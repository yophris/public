(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9369],{42761:function(e,t,i){"use strict";var r=i(64836);t.Z=void 0;var n=r(i(64938)),a=i(85893),o=(0,n.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},19211:function(e,t,i){"use strict";i.d(t,{Z:function(){return S}});var r=i(63366),n=i(87462),a=i(67294),o=i(86010),s=i(59766),l=i(94780),d=i(34867),u=i(70182);let c=(0,u.ZP)();var m=i(29628),p=i(39707),f=i(66500),v=i(95408),x=i(98700),g=i(85893);let Z=["component","direction","spacing","divider","children","className"],h=(0,f.Z)(),j=c("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function k(e){return(0,m.Z)({props:e,name:"MuiStack",defaultTheme:h})}let b=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],y=({ownerState:e,theme:t})=>{let i=(0,n.Z)({display:"flex",flexDirection:"column"},(0,v.k9)({theme:t},(0,v.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,x.hB)(t),a=Object.keys(t.breakpoints.values).reduce((t,i)=>(("object"==typeof e.spacing&&null!=e.spacing[i]||"object"==typeof e.direction&&null!=e.direction[i])&&(t[i]=!0),t),{}),o=(0,v.P$)({values:e.direction,base:a}),l=(0,v.P$)({values:e.spacing,base:a});"object"==typeof o&&Object.keys(o).forEach((e,t,i)=>{let r=o[e];if(!r){let n=t>0?o[i[t-1]]:"column";o[e]=n}});let d=(t,i)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${b(i?o[i]:e.direction)}`]:(0,x.NA)(r,t)}});i=(0,s.Z)(i,(0,v.k9)({theme:t},l,d))}return(0,v.dt)(t.breakpoints,i)},w=function(e={}){let{createStyledComponent:t=j,useThemeProps:i=k,componentName:s="MuiStack"}=e,u=()=>(0,l.Z)({root:["root"]},e=>(0,d.Z)(s,e),{}),c=t(y),m=a.forwardRef(function(e,t){let s=i(e),l=(0,p.Z)(s),{component:d="div",direction:m="column",spacing:f=0,divider:v,children:x,className:h}=l,j=(0,r.Z)(l,Z),k=u();return(0,g.jsx)(c,(0,n.Z)({as:d,ownerState:{direction:m,spacing:f},ref:t,className:(0,o.Z)(k.root,h)},j,{children:v?function(e,t){let i=a.Children.toArray(e).filter(Boolean);return i.reduce((e,r,n)=>(e.push(r),n<i.length-1&&e.push(a.cloneElement(t,{key:`separator-${n}`})),e),[])}(x,v):x}))});return m}();var S=w},41274:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/v2/settings/general/teams",function(){return i(74602)}])},19716:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var r=i(85893),n=i(42761),a=i(13970),o=i(90629);function s(e){let{...t}=e;return(0,r.jsxs)(o.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,r.jsx)(n.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,r.jsx)(a.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}i(67294)},32530:function(e,t,i){"use strict";var r=i(85893),n=i(26447),a=i(44057),o=i(9576),s=i(76595),l=i(19716),d=i(67294),u=i(34578),c=i(88767);i(80681);var m=i(38560),p=i(39272),f=i(42019),v=i(71666);let x=e=>{var t,i;let{config:x}=e,{endpoint:g,texts:Z,getAllFn:h,postFn:j,key:k,deleteFn:b,validation:y,putFn:w,transform:S=e=>e}=x,T=(0,m.Z)(e=>e.setProgress),E=(0,u.VY)(),D=(0,c.useQueryClient)(),[N,_]=d.useState(!1),[C,M]=(0,d.useState)(null),{isLoading:P,data:Q,error:F}=(0,c.useQuery)("get"+k,()=>h(g,{page:1})),q=(0,c.useMutation)(e=>C?w(g,C,S(e),T):j(g,S(e),T),{onSuccess(){_(!1),D.invalidateQueries("get"+k),E.success(C?"Updated":"created")},onError(e){E.error("Failed")}}),B=(0,c.useMutation)(e=>b(g,e),{onSuccess(){D.invalidateQueries("get"+k),E("Deleted"),_(!1)},onError(e){E("Failed")}}),$=e=>{_(!0),M(e)},z=e=>{window.confirm("Do you want to delete this ? ")&&B.mutate({id:e})};return(0,d.useEffect)(e=>{N||M(null)},[N]),(0,r.jsxs)(n.Z,{spacing:2,m:2,divider:(0,r.jsx)(o.Z,{}),children:[(0,r.jsxs)(n.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(l.Z,{sx:{flex:1}}),(0,r.jsx)(a.Z,{variant:"contained",onClick:()=>_(!0),children:null==Z?void 0:Z.drawerTitle}),N&&(0,r.jsx)(v.Z,{open:N,callback:_,title:C?null==Z?void 0:null===(t=Z.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==Z?void 0:Z.drawerTitle,children:(0,r.jsx)(s.Z,{form:x.form,edit:C?{...Q.data.find(e=>e.id==C)}:null,submitData:e=>q.mutate({...e}),validationSchema:y,cancelDrawer:()=>_(!1)})})]}),(0,r.jsx)(n.Z,{sx:{rowGap:1},children:P?"Loading":null==Q?void 0:null===(i=Q.data)||void 0===i?void 0:i.map((e,t)=>(0,r.jsx)(f.Z,{label:(0,p.Im)(e,"**.".concat(Z.key)),cb:{Edit:()=>$(e.id),Delete:()=>z(e.id)}},t))})]})};t.Z=x},19127:function(e,t,i){"use strict";var r=i(85893),n=i(26447),a=i(87357),o=i(44057),s=i(9576);i(76595);var l=i(19716),d=i(67294),u=i(34578),c=i(88767);i(80681);var m=i(38560);i(39272);var p=i(71666),f=i(42390);let v=e=>{var t;let{plan:i,editData:v,clearEdit:x=()=>{},openSideMenu:g,setOpenSideMenu:Z}=e,{endpoint:h,postFn:j,key:k,putFn:b,transform:y=e=>e}=i,w=(0,m.Z)(e=>e.setProgress),S=(0,u.VY)(),T=(0,c.useQueryClient)(),E=(0,c.useMutation)(e=>v?b(h,v.id,y(e),w):j(h,y(e),w),{onSuccess(){Z(!1),T.invalidateQueries("get"+k),S.success((null==v?void 0:v.id)?"Updated":"created")},onError(e){S.error("Failed")}});return(0,d.useEffect)(e=>{v&&(console.log("Opening"),Z(!0))},[v]),(0,d.useEffect)(e=>{g||x()},[g]),(0,r.jsx)(n.Z,{spacing:2,m:2,divider:(0,r.jsx)(s.Z,{}),children:(0,r.jsxs)(n.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(l.Z,{sx:{flex:1}}),(0,r.jsx)(o.Z,{variant:"contained",onClick:()=>Z(!0),children:null==i?void 0:i.sideBarTitle}),g&&(0,r.jsx)(p.Z,{open:g,callback:Z,title:(null==v?void 0:v.id)?null==i?void 0:null===(t=i.sideBarTitle)||void 0===t?void 0:t.replace("Add","Update"):null==i?void 0:i.sideBarTitle,children:(0,r.jsx)(a.Z,{p:2,children:(0,r.jsx)(f.Z,{plan:i,onSubmit:e=>E.mutate({...e}),formData:v})})})]})})};t.Z=v},74602:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var r=i(85893),n=i(42019),a=i(19127),o=i(19211),s=i(77339);i(32530);var l=i(54742),d=i(67294),u=i(88767),c=i(558),m=i(39272),p=i(7258);p.object().shape({team:p.object().shape({teamName:p.string().required(" name required."),description:p.string().required("type required.")})}),s.Z,s.Z,c.$8,c.fj,c.m7,c.WN;let f={sideBarTitle:"Add Team",endpoint:"settings/team",key:"teams",section:{fields:[{label:"Team Name",type:"Text",id:"teamName",gridSizes:{xs:12,sm:6,md:12,lg:12},config:{placeholder:"teamName"},validations:[{type:"required"}]},{label:"Descriptions",type:"Text",id:"description",gridSizes:{xs:12,sm:6,md:12,lg:12},isMultiline:!0,config:{placeholder:"Description"},validations:[{type:"required"}]}]},texts:{key:"teamName",breadcrumbText:"Teams",drawerTitle:"Add team",mainTitle:"Teams",mainDescription:"this is short description for division",sideTitle:"List of Teams",sideDescription:"this is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},postFn:c.fj,putFn:c.m7};function v(){var e;let t=(0,u.useQueryClient)(),{isLoading:i,data:s,error:p}=(0,u.useQuery)("get"+f.key,()=>(0,c.$8)(f.endpoint,{page:1})),[v,x]=(0,d.useState)(!1),[g,Z]=(0,d.useState)(null),h=(0,u.useMutation)(e=>(0,c.WN)(f.endpoint,e),{onSuccess(){t.invalidateQueries("get"+f.key),alert("Deleted"),x(!1)},onError(e){alert("Failed")}}),j=e=>{x(!0),Z(e)},k=e=>{window.confirm("Do you want to delete this ? ")&&h.mutate({id:e})};return(0,d.useEffect)(e=>{v||Z(null)},[v]),(0,r.jsxs)(l.Z,{texts:f.texts,children:[(0,r.jsx)(a.Z,{plan:f,openSideMenu:v,setOpenSideMenu:x,editData:g}),(0,r.jsx)(o.Z,{sx:{rowGap:1},children:i?"Loading":null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.map((e,t)=>(0,r.jsx)(n.Z,{label:(0,m.Im)(e,"**.teamName"),cb:{Edit:()=>j(e),Delete:()=>k(e.id)}},t))})]})}}},function(e){e.O(0,[3662,3552,4885,5675,6886,3213,4409,129,5229,8360,7417,5644,6572,5915,7480,9482,2390,9774,2888,179],function(){return e(e.s=41274)}),_N_E=e.O()}]);