(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8637],{23910:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/v2/settings/general/user-roles",function(){return o(21915)}])},19716:function(e,t,o){"use strict";o.d(t,{Z:function(){return i}});var r=o(85893),l=o(42761),a=o(13970),n=o(90629);function i(e){let{...t}=e;return(0,r.jsxs)(n.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,r.jsx)(l.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,r.jsx)(a.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}o(67294)},44889:function(e,t,o){"use strict";o.d(t,{Z:function(){return q}});var r=o(85893),l=o(26447),a=o(44057),n=o(9576),i=o(76595),s=o(19716),d=o(67294),c=o(34578),u=o(88767);o(80681);var m=o(38560),p=o(39272),h=o(15861),b=o(87357),x=o(93946),g=o(35294),f=o(18972),y=o(57976),E=o(75071),j=o(41733),v=o(25675),w=o.n(v),Z=o(1574);let R=["Edit","Delete"];function S(e){let{label:t="",cb:o={}}=e,[a,n]=d.useState(null),i=Boolean(a),s=e=>{n(e.currentTarget)},c=()=>{n(null)},u=e=>{let t=o[e];t&&(t(),c())};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{border:"1px solid #E4E7EB",borderRadius:1,padding:2},children:[(0,r.jsxs)(l.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,r.jsx)(w(),{src:"/images/starYellow.svg",width:20,height:20,alt:"favourite"}),(0,r.jsx)(Z.Z,{size:18,colorVal:"#46C0C0"}),(0,r.jsx)(h.Z,{variant:"h3_medium_secondary",component:"h3",children:t})]}),(0,r.jsx)(l.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(x.Z,{"aria-label":"more",id:"long-button","aria-controls":i?"long-menu":void 0,"aria-expanded":i?"true":void 0,"aria-haspopup":"true",onClick:s,children:(0,r.jsx)(y.Z,{sx:{color:"text.secondary",fontSize:"2rem"}})}),(0,r.jsx)(g.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:a,open:i,onClose:c,PaperProps:{style:{maxHeight:216,width:"auto"}},children:R.map(e=>(0,r.jsxs)(f.Z,{selected:"Pyxis"===e,onClick:()=>u(e),children:[(0,r.jsx)(h.Z,{mr:1,variant:"body_medium_tertiary",component:"p",children:"Delete"===e?(0,r.jsx)(j.Z,{sx:{color:"#F53E40"}}):(0,r.jsx)(E.Z,{})}),(0,r.jsx)(h.Z,{sx:{color:"Delete"===e&&"#F53E40"},variant:"body_medium_tertiary",component:"p",children:e})]},e))})]})})]})})}var k=o(71666);let D=e=>{var t,o;let{config:h}=e,{endpoint:b,texts:x,getAllFn:g,postFn:f,key:y,deleteFn:E,validation:j,putFn:v,transform:w=e=>e}=h,Z=(0,m.Z)(e=>e.setProgress),R=(0,c.VY)(),D=(0,u.useQueryClient)(),[q,C]=d.useState(!1),[F,T]=(0,d.useState)(null),{isLoading:_,data:A,error:P}=(0,u.useQuery)("get"+y,()=>g(b,{page:1})),M=(0,u.useMutation)(e=>F?v(b,F,w(e),Z):f(b,w(e),Z),{onSuccess(){C(!1),D.invalidateQueries("get"+y),R.success(F?"Updated":"created")},onError(e){R.error("Failed")}}),I=(0,u.useMutation)(e=>E(b,e),{onSuccess(){D.invalidateQueries("get"+y),R("Deleted"),C(!1)},onError(e){R("Failed")}}),N=e=>{C(!0),T(e)},L=e=>{window.confirm("Do you want to delete this ? ")&&I.mutate({id:e})};return(0,d.useEffect)(e=>{q||T(null)},[q]),(0,r.jsxs)(l.Z,{spacing:2,m:2,divider:(0,r.jsx)(n.Z,{}),children:[(0,r.jsxs)(l.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(s.Z,{sx:{flex:1}}),(0,r.jsx)(a.Z,{variant:"contained",onClick:()=>C(!0),children:null==x?void 0:x.drawerTitle}),q&&(0,r.jsx)(k.Z,{open:q,callback:C,title:F?null==x?void 0:null===(t=x.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==x?void 0:x.drawerTitle,children:(0,r.jsx)(i.Z,{form:h.form,edit:F?{...A.data.find(e=>e.id==F)}:null,submitData:e=>M.mutate({...e}),validationSchema:j,cancelDrawer:()=>C(!1)})})]}),(0,r.jsx)(l.Z,{sx:{rowGap:1},children:_?"Loading":null==A?void 0:null===(o=A.data)||void 0===o?void 0:o.map((e,t)=>(0,r.jsx)(S,{label:(0,p.I)(e,"**.".concat(x.key)),cb:{Edit:()=>N(e.id),Delete:()=>L(e.id)}},t))})]})};var q=D},99079:function(e,t,o){"use strict";o.d(t,{Z:function(){return m}});var r=o(85893),l=o(67294),a=o(86886),n=o(26447),i=o(87357),s=o(50480),d=o(69368),c=o(15861);function u(e){let{attr:t,handleChange:o,editAllChanged:a,...n}=e,[u,m]=l.useState(!1),[p,h]=l.useState({borderColor:"#EFEFEF",background:""}),b=e=>{e?h({borderColor:"rgba(55, 125, 255, 0.5)",background:"#DAEDFF"}):h({borderColor:"#EFEFEF",background:""})};return l.useEffect(()=>{m(a),b(a)},[a]),(0,r.jsx)(i.Z,{sx:{border:"1px solid",color:p,px:2,borderRadius:1.25,...n},...n,children:(0,r.jsx)(s.Z,{control:(0,r.jsx)(d.Z,{size:"large",sx:{"& .MuiSvgIcon-root":{fontSize:"2rem"}},checked:u,onChange(e,r){b(r),m(r),o(e,t.name,r)},disableRipple:!0}),label:(0,r.jsx)(c.Z,{variant:"body_medium_secondary",component:"p",children:t.label}),labelPlacement:"end"})})}function m(e){let{attrs:t,selectAllOption:o,setValue:i,getValues:s}=e,[d,c]=l.useState(!1);l.useEffect(()=>{t.forEach(e=>i(e.name,d))},[d]);let m=(e,o,r)=>{c(e.target.checked),t.forEach(e=>i(e.name,r))},p=(e,t,o)=>{i(t,o),o||c(o)};return(0,r.jsxs)(a.ZP,{item:!0,sx:{paddingLeft:0,margin:0,width:"100%"},children:[(null==o?void 0:o.isEnabled)&&(0,r.jsx)(u,{width:"100%",attr:{label:null==o?void 0:o.label},handleChange:m}),(0,r.jsx)(n.Z,{direction:"row",sx:(null==o?void 0:o.isEnabled)&&{borderLeft:"1px solid #efefef",mt:2,ml:4,pl:2},flexWrap:"wrap",rowGap:1,columnGap:1,children:t&&t.map(e=>{void 0===s(e.name)&&i(e.name,!1);let t=s(e.name);return void 0!==t&&(0,r.jsx)(u,{attr:e,editAllChanged:d,handleChange:p},e.name)})})]})}},21915:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return b}});var r=o(85893);o(67294);var l=o(77339),a=o(44889),n=o(54742),i=o(99079),s=o(558);let d=[{element:l.Z,attr:{label:"Role Name",name:"userRoles.name"},validation:{validationType:"string",validations:[{type:"required",params:["User Roles Name is Required"]}]},xs:12},{element:l.Z,attr:{label:"Description",name:"userRoles.description",isMultiline:!0},xs:12}],c=[{element:i.Z,type:"group",attrs:[{name:"employeeRequest.termination",label:"Manage Termination Request"},{name:"employeeRequest.trasfer",label:"Manage Transfer Request"},{name:"employeeRequest.leave",label:"Manage Leave Request"},{name:"employeeRequest.resignation",label:"Manage Resignation Request"},{name:"employeeRequest.reimbursement",label:"Manage Reimbursement Request"}],isRequired:!1}],u=[{element:i.Z,type:"group",attrs:[{name:"employeeDirectory.showEmployeeStatus",label:"Show Inactive / Deleted / Exited Employee"},{name:"employeeDirectory.importEmployee",label:"Import Employee to Directory"},{name:"employeeDirectory.exportEmployee",label:"Export Employee to Directory"},{name:"employeeDirectory.deleteEmployee",label:"Delete employee from Directory"}],isRequired:!1}],m=[{element:i.Z,type:"group",selectAllOption:{isEnabled:!0,label:"View all fields of other employees"},attrs:[{name:"otherEmployeeAccess.personalSectionView",label:"Personal Section"},{name:"otherEmployeeAccess.jobSectionView",label:"Job Section"},{name:"otherEmployeeAccess.employmentEducationView",label:"Employment Education"},{name:"otherEmployeeAccess.compensationView",label:"Compensation Section"}],isRequired:!1},{element:i.Z,type:"group",selectAllOption:{isEnabled:!0,label:"Edit all fields of other employees"},attrs:[{name:"otherEmployeeAccess.personalSectionEdit",label:"Personal Section"},{name:"otherEmployeeAccess.jobSectionEdit",label:"Job Section"},{name:"otherEmployeeAccess.employmentEducationEdit",label:"Employment Education"},{name:"otherEmployeeAccess.compensationEdit",label:"Compensation Section"}],isRequired:!1}],p=[{element:i.Z,type:"group",attrs:[{name:"payroll.manageAllPayrolls",label:"Manage All Payroll Processes"}],isRequired:!1}],h={key:"userRoles",form:[{header:"",fields:d},{header:"Permissions",subHeader:"This will be important to show or hide the pages according to user roles"},{header:"Employee Request Setting",subHeader:"Select the areas where user-role can approve, reject employee request",noDivider:!0,fields:c},{header:"Employee Directory",subHeader:"This will be important to show or hide the pages according to user roles",fields:u},{header:"Access to other employee profile",subHeader:"This will be important to show or hide the pages according to user roles",fields:m},{header:"Payroll",subHeader:"This will be important to show or hide the pages according to user roles",fields:p}],endpoint:"settings/userRoles",texts:{title:"User Roles",key:"userRolesName",breadcrumbText:"Manage Roles",drawerTitle:"Add User Roles",mainTitle:"List of User Roles",mainDescription:"It is short description for userRoles",sideTitle:"User Role",sideDescription:"This is long long long for userRoles saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:s.$8,postFn:s.fj,putFn:s.m7,deleteFn:s.WN};function b(){return(0,r.jsx)(n.Z,{texts:h.texts,children:(0,r.jsx)(a.Z,{config:h})})}}},function(e){e.O(0,[3662,3552,5675,7655,129,2737,343,384,448,9774,2888,179],function(){return e(e.s=23910)}),_N_E=e.O()}]);