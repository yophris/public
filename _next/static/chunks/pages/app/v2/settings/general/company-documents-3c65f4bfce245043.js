(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7537],{19211:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n(63366),o=n(87462),r=n(67294),l=n(86010),a=n(59766),s=n(94780),d=n(34867),c=n(70182);let u=(0,c.ZP)();var m=n(29628),p=n(39707),f=n(66500),g=n(95408),v=n(98700),x=n(85893);let h=["component","direction","spacing","divider","children","className"],j=(0,f.Z)(),Z=u("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function y(e){return(0,m.Z)({props:e,name:"MuiStack",defaultTheme:j})}let b=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],k=({ownerState:e,theme:t})=>{let n=(0,o.Z)({display:"flex",flexDirection:"column"},(0,g.k9)({theme:t},(0,g.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let i=(0,v.hB)(t),r=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),l=(0,g.P$)({values:e.direction,base:r}),s=(0,g.P$)({values:e.spacing,base:r});"object"==typeof l&&Object.keys(l).forEach((e,t,n)=>{let i=l[e];if(!i){let o=t>0?l[n[t-1]]:"column";l[e]=o}});let d=(t,n)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${b(n?l[n]:e.direction)}`]:(0,v.NA)(i,t)}});n=(0,a.Z)(n,(0,g.k9)({theme:t},s,d))}return(0,g.dt)(t.breakpoints,n)},D=function(e={}){let{createStyledComponent:t=Z,useThemeProps:n=y,componentName:a="MuiStack"}=e,c=()=>(0,s.Z)({root:["root"]},e=>(0,d.Z)(a,e),{}),u=t(k),m=r.forwardRef(function(e,t){let a=n(e),s=(0,p.Z)(a),{component:d="div",direction:m="column",spacing:f=0,divider:g,children:v,className:j}=s,Z=(0,i.Z)(s,h),y=c();return(0,x.jsx)(u,(0,o.Z)({as:d,ownerState:{direction:m,spacing:f},ref:t,className:(0,l.Z)(y.root,j)},Z,{children:g?function(e,t){let n=r.Children.toArray(e).filter(Boolean);return n.reduce((e,i,o)=>(e.push(i),o<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${o}`})),e),[])}(v,g):v}))});return m}();var w=D},20892:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/v2/settings/general/company-documents",function(){return n(42269)}])},86471:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(85893),o=n(26447),r=n(87357),l=n(15861),a=n(25675),s=n.n(a),d=n(67294),c=n(99272),u=n(1746),m=n(87536),p=n(76797);n(88767),n(80681),n(38560);let f={height:"155px",border:"2px dashed #BDCEDD",background:"#FAFAFA",borderRadius:"8px"},g=["/images/pdfIcon.svg","/images/jpgIcon.svg","/images/docIcon.svg","/images/xlsIcon.svg"];function v(e){let{label:t,limit:n,type:a,bucket:v,register:x,name:h,error:j,isRequired:Z,control:y}=e,[b,k]=(0,d.useState)(null),[D,w]=(0,d.useState)(0),{fields:E,append:S,remove:T}=(0,m.Dq)({control:y,name:h}),[{canDrop:_,isOver:F},C]=(0,c.L)(()=>({accept:[u.FILE],drop(e){N&&N(e)},canDrop:e=>!0,hover(e){k(null)},collect(e){let t=e.getItem();return t&&console.log("Drag: collect",t.files,t.items),{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),[e.name]),N=async e=>{if(console.log("dropped",e),e.files.length>n){k("Only "+n+" files allowed"),setTimeout(e=>{k(null)},[2e3]);return}if(e.files.some(e=>!a.includes(e.type))){k("File not allowed"),setTimeout(e=>{k(null)},[2e3]);return}S(e.files)};(0,d.useEffect)(e=>{console.log(E)},[E]);let Q=e=>{let{target:t}=e,{files:n}=t;console.log("files",n),S([n[0]])},I=(0,d.useRef)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{ref:I,onChange:Q,type:"file",hidden:!0,multiple:n>1,accept:a}),(0,i.jsxs)(o.Z,{onClick(){var e;return null==I?void 0:null===(e=I.current)||void 0===e?void 0:e.click()},ref:0==D?C:null,style:{...f,background:F?"lightgreen":b?"orange":f.background},justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(r.Z,{mb:2,children:g&&g.map(e=>(0,i.jsx)(s(),{src:e,alt:"Vercel Logo",width:40,height:40,style:{opacity:.7}},e))}),(0,i.jsx)(r.Z,{children:_&&F?(0,i.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:"Release to drop"}):(0,i.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:b||(0,i.jsxs)(i.Fragment,{children:["Drag & Drop your document here, or"," ",(0,i.jsx)(l.Z,{variant:"body_bold_primary",component:"span",children:"Browse"})]})})}),(0,i.jsx)(l.Z,{variant:"smallcopy_regular_muted",component:"p",children:!b&&"Upload .pdf, .doc, .xls, .jpg & etc"})]}),E.map((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{...x("".concat(h,".").concat(t)),hidden:!0},e.id),(0,i.jsx)(m.Qr,{render(e){let{field:{value:n}}=e;return(0,i.jsx)(p.Z,{file:n[t].name,handleRemove:()=>T(t),isLast:t===E.length-1})},name:"".concat(h),control:y},t)]}))]})}},19716:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(85893),o=n(42761),r=n(13970),l=n(90629);function a(e){let{...t}=e;return(0,i.jsxs)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,i.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,i.jsx)(r.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}n(67294)},32530:function(e,t,n){"use strict";var i=n(85893),o=n(26447),r=n(44057),l=n(9576),a=n(76595),s=n(19716),d=n(67294),c=n(34578),u=n(88767);n(80681);var m=n(38560),p=n(39272),f=n(42019),g=n(71666);let v=e=>{var t,n;let{config:v}=e,{endpoint:x,texts:h,getAllFn:j,postFn:Z,key:y,deleteFn:b,validation:k,putFn:D,transform:w=e=>e}=v,E=(0,m.Z)(e=>e.setProgress),S=(0,c.VY)(),T=(0,u.useQueryClient)(),[_,F]=d.useState(!1),[C,N]=(0,d.useState)(null),{isLoading:Q,data:I,error:P}=(0,u.useQuery)("get"+y,()=>j(x,{page:1})),A=(0,u.useMutation)(e=>C?D(x,C,w(e),E):Z(x,w(e),E),{onSuccess(){F(!1),T.invalidateQueries("get"+y),S.success(C?"Updated":"created")},onError(e){S.error("Failed")}}),B=(0,u.useMutation)(e=>b(x,e),{onSuccess(){T.invalidateQueries("get"+y),S("Deleted"),F(!1)},onError(e){S("Failed")}}),L=e=>{F(!0),N(e)},M=e=>{window.confirm("Do you want to delete this ? ")&&B.mutate({id:e})};return(0,d.useEffect)(e=>{_||N(null)},[_]),(0,i.jsxs)(o.Z,{spacing:2,m:2,divider:(0,i.jsx)(l.Z,{}),children:[(0,i.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,i.jsx)(s.Z,{sx:{flex:1}}),(0,i.jsx)(r.Z,{variant:"contained",onClick:()=>F(!0),children:null==h?void 0:h.drawerTitle}),_&&(0,i.jsx)(g.Z,{open:_,callback:F,title:C?null==h?void 0:null===(t=h.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==h?void 0:h.drawerTitle,children:(0,i.jsx)(a.Z,{form:v.form,edit:C?{...I.data.find(e=>e.id==C)}:null,submitData:e=>A.mutate({...e}),validationSchema:k,cancelDrawer:()=>F(!1)})})]}),(0,i.jsx)(o.Z,{sx:{rowGap:1},children:Q?"Loading":null==I?void 0:null===(n=I.data)||void 0===n?void 0:n.map((e,t)=>(0,i.jsx)(f.Z,{label:(0,p.Im)(e,"**.".concat(h.key)),cb:{Edit:()=>L(e.id),Delete:()=>M(e.id)}},t))})]})};t.Z=v},19127:function(e,t,n){"use strict";var i=n(85893),o=n(26447),r=n(87357),l=n(44057),a=n(9576);n(76595);var s=n(19716),d=n(67294),c=n(34578),u=n(88767);n(80681);var m=n(38560);n(39272);var p=n(71666),f=n(42390);let g=e=>{var t;let{plan:n,editData:g,clearEdit:v=()=>{},openSideMenu:x,setOpenSideMenu:h}=e,{endpoint:j,postFn:Z,key:y,putFn:b,transform:k=e=>e}=n,D=(0,m.Z)(e=>e.setProgress),w=(0,c.VY)(),E=(0,u.useQueryClient)(),S=(0,u.useMutation)(e=>g?b(j,g.id,k(e),D):Z(j,k(e),D),{onSuccess(){h(!1),E.invalidateQueries("get"+y),w.success((null==g?void 0:g.id)?"Updated":"created")},onError(e){w.error("Failed")}});return(0,d.useEffect)(e=>{g&&(console.log("Opening"),h(!0))},[g]),(0,d.useEffect)(e=>{x||v()},[x]),(0,i.jsx)(o.Z,{spacing:2,m:2,divider:(0,i.jsx)(a.Z,{}),children:(0,i.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,i.jsx)(s.Z,{sx:{flex:1}}),(0,i.jsx)(l.Z,{variant:"contained",onClick:()=>h(!0),children:null==n?void 0:n.sideBarTitle}),x&&(0,i.jsx)(p.Z,{open:x,callback:h,title:(null==g?void 0:g.id)?null==n?void 0:null===(t=n.sideBarTitle)||void 0===t?void 0:t.replace("Add","Update"):null==n?void 0:n.sideBarTitle,children:(0,i.jsx)(r.Z,{p:2,children:(0,i.jsx)(f.Z,{plan:n,onSubmit:e=>S.mutate({...e}),formData:g})})})]})})};t.Z=g},42269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(85893),o=n(42019),r=n(19127),l=n(19211);n(86471),n(77339),n(32530);var a=n(54742),s=n(67294),d=n(88767),c=n(558),u=n(39272);let m={sideBarTitle:"Add Company Document",section:{fields:[{label:"Document Name",type:"Text",id:"document.name",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Document Name"},validations:[{type:"required"}]},{label:"File",type:"DocumentUpload",id:"file",gridSizes:{xs:12,sm:12,md:12,lg:12},config:{placeholder:"File"},validations:[{type:"required"}]}]},postFn:c.fj,putFn:c.m7,endpoint:"settings/companyDocument",key:"company-doc",texts:{key:"document.name",breadcrumbText:"Comapny Documents",drawerTitle:"Add Document",mainTitle:"List of Documents",mainDescription:"This is short description for division",sideTitle:"Document",sideDescription:"this is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},transform:e=>(0,u.wG)(e)};function p(){var e;let t=(0,d.useQueryClient)(),{isLoading:n,data:p,error:f}=(0,d.useQuery)("get"+m.key,()=>(0,c.$8)(m.endpoint,{page:1})),[g,v]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),j=(0,d.useMutation)(e=>(0,c.WN)(m.endpoint,e),{onSuccess(){t.invalidateQueries("get"+m.key),alert("Deleted"),v(!1)},onError(e){alert("Failed")}}),Z=e=>{v(!0),h(e)},y=e=>{window.confirm("Do you want to delete this ? ")&&j.mutate({id:e})};return(0,s.useEffect)(e=>{g||h(null)},[g]),(0,i.jsxs)(a.Z,{texts:m.texts,children:[(0,i.jsx)(r.Z,{plan:m,openSideMenu:g,setOpenSideMenu:v,editData:x}),(0,i.jsx)(l.Z,{sx:{rowGap:1},children:n?"Loading":null==p?void 0:null===(e=p.data)||void 0===e?void 0:e.map((e,t)=>(0,i.jsx)(o.Z,{label:(0,u.Im)(e,"**.document.name"),cb:{Edit:()=>Z(e),Delete:()=>y(e.id)}},t))})]})}}},function(e){e.O(0,[3662,3552,4885,5675,6886,3213,4409,129,5229,8360,7417,5644,6572,5915,7480,6535,9482,2390,9774,2888,179],function(){return e(e.s=20892)}),_N_E=e.O()}]);