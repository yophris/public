(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{75503:function(e,t,i){"use strict";var n=i(64836);t.Z=void 0;var r=n(i(64938)),a=i(85893),o=(0,r.default)((0,a.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=o},42761:function(e,t,i){"use strict";var n=i(64836);t.Z=void 0;var r=n(i(64938)),a=i(85893),o=(0,r.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},19211:function(e,t,i){"use strict";i.d(t,{Z:function(){return w}});var n=i(63366),r=i(87462),a=i(67294),o=i(86010),l=i(59766),s=i(94780),d=i(34867),c=i(70182);let u=(0,c.ZP)();var p=i(29628),m=i(39707),f=i(66500),x=i(95408),v=i(98700),g=i(85893);let h=["component","direction","spacing","divider","children","className"],b=(0,f.Z)(),Z=u("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function j(e){return(0,p.Z)({props:e,name:"MuiStack",defaultTheme:b})}let y=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],k=({ownerState:e,theme:t})=>{let i=(0,r.Z)({display:"flex",flexDirection:"column"},(0,x.k9)({theme:t},(0,x.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let n=(0,v.hB)(t),a=Object.keys(t.breakpoints.values).reduce((t,i)=>(("object"==typeof e.spacing&&null!=e.spacing[i]||"object"==typeof e.direction&&null!=e.direction[i])&&(t[i]=!0),t),{}),o=(0,x.P$)({values:e.direction,base:a}),s=(0,x.P$)({values:e.spacing,base:a});"object"==typeof o&&Object.keys(o).forEach((e,t,i)=>{let n=o[e];if(!n){let r=t>0?o[i[t-1]]:"column";o[e]=r}});let d=(t,i)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${y(i?o[i]:e.direction)}`]:(0,v.NA)(n,t)}});i=(0,l.Z)(i,(0,x.k9)({theme:t},s,d))}return(0,x.dt)(t.breakpoints,i)},S=function(e={}){let{createStyledComponent:t=Z,useThemeProps:i=j,componentName:l="MuiStack"}=e,c=()=>(0,s.Z)({root:["root"]},e=>(0,d.Z)(l,e),{}),u=t(k),p=a.forwardRef(function(e,t){let l=i(e),s=(0,m.Z)(l),{component:d="div",direction:p="column",spacing:f=0,divider:x,children:v,className:b}=s,Z=(0,n.Z)(s,h),j=c();return(0,g.jsx)(u,(0,r.Z)({as:d,ownerState:{direction:p,spacing:f},ref:t,className:(0,o.Z)(j.root,b)},Z,{children:x?function(e,t){let i=a.Children.toArray(e).filter(Boolean);return i.reduce((e,n,r)=>(e.push(n),r<i.length-1&&e.push(a.cloneElement(t,{key:`separator-${r}`})),e),[])}(v,x):v}))});return p}();var w=S},79173:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/v2/settings/general/department",function(){return i(73804)}])},69745:function(e,t,i){"use strict";i.d(t,{Z:function(){return u}});var n=i(85893);i(67294);var r=i(87357),a=i(15861),o=i(18360),l=i(18972),s=i(90948),d=i(13970),c=i(75503);function u(e){let{label:t,name:i,options:s,register:d,setValue:u,error:m,isRequired:f,getValues:x,watch:v,hideLabel:g=!1,...h}=e;return(0,n.jsxs)(r.Z,{sx:{width:"100%"},children:[!g&&(0,n.jsxs)(a.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[t,f&&(0,n.jsx)(a.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,n.jsxs)(o.Z,{...d&&d,...h,input:(0,n.jsx)(p,{}),IconComponent:c.Z,sx:{fontSize:"1.4rem",fontWeight:500,color:"text.secondary",width:"100%"},children:[(0,n.jsx)(l.Z,{selected:!0,sx:{fontSize:"1.4rem",color:"text.secondary",fontStyle:"italic"},value:"",children:"None"}),s.length&&s.map((e,t)=>(0,n.jsx)(l.Z,{sx:{fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},value:e.value,disabled:e.disabled,children:e.text},t))]}),(null==m?void 0:m.message)&&(0,n.jsx)(a.Z,{variant:"h6",sx:{marginLeft:"4px",color:"red"},children:m.message})]})}let p=(0,s.ZP)(d.ZP)(e=>{let{theme:t}=e;return{alignItems:"center",backgroundColor:t.palette.background.main,border:"1px solid #EFEFEF",borderRadius:t.spacing(1),display:"flex",fontSize:"1.4rem",transition:t.transitions.create(["border-color","box-shadow"]),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"},"label + &":{marginTop:t.spacing(3)},"& .MuiInputBase-input":{color:t.palette.text.secondary,padding:"".concat(t.spacing(1.25)," ").concat(t.spacing(2))},"& .MuiSvgIcon-root":{fontSize:"2rem",marginRight:2,color:t.palette.text.tertiary}}})},19716:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(85893),r=i(42761),a=i(13970),o=i(90629);function l(e){let{...t}=e;return(0,n.jsxs)(o.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,n.jsx)(r.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,n.jsx)(a.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}i(67294)},32530:function(e,t,i){"use strict";var n=i(85893),r=i(26447),a=i(44057),o=i(9576),l=i(76595),s=i(19716),d=i(67294),c=i(34578),u=i(88767);i(80681);var p=i(38560),m=i(39272),f=i(42019),x=i(71666);let v=e=>{var t,i;let{config:v}=e,{endpoint:g,texts:h,getAllFn:b,postFn:Z,key:j,deleteFn:y,validation:k,putFn:S,transform:w=e=>e}=v,E=(0,p.Z)(e=>e.setProgress),D=(0,c.VY)(),T=(0,u.useQueryClient)(),[F,N]=d.useState(!1),[M,_]=(0,d.useState)(null),{isLoading:C,data:z,error:P}=(0,u.useQuery)("get"+j,()=>b(g,{page:1})),L=(0,u.useMutation)(e=>M?S(g,M,w(e),E):Z(g,w(e),E),{onSuccess(){N(!1),T.invalidateQueries("get"+j),D.success(M?"Updated":"created")},onError(e){D.error("Failed")}}),Q=(0,u.useMutation)(e=>y(g,e),{onSuccess(){T.invalidateQueries("get"+j),D("Deleted"),N(!1)},onError(e){D("Failed")}}),R=e=>{N(!0),_(e)},A=e=>{window.confirm("Do you want to delete this ? ")&&Q.mutate({id:e})};return(0,d.useEffect)(e=>{F||_(null)},[F]),(0,n.jsxs)(r.Z,{spacing:2,m:2,divider:(0,n.jsx)(o.Z,{}),children:[(0,n.jsxs)(r.Z,{direction:"row",spacing:3,children:[(0,n.jsx)(s.Z,{sx:{flex:1}}),(0,n.jsx)(a.Z,{variant:"contained",onClick:()=>N(!0),children:null==h?void 0:h.drawerTitle}),F&&(0,n.jsx)(x.Z,{open:F,callback:N,title:M?null==h?void 0:null===(t=h.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==h?void 0:h.drawerTitle,children:(0,n.jsx)(l.Z,{form:v.form,edit:M?{...z.data.find(e=>e.id==M)}:null,submitData:e=>L.mutate({...e}),validationSchema:k,cancelDrawer:()=>N(!1)})})]}),(0,n.jsx)(r.Z,{sx:{rowGap:1},children:C?"Loading":null==z?void 0:null===(i=z.data)||void 0===i?void 0:i.map((e,t)=>(0,n.jsx)(f.Z,{label:(0,m.I)(e,"**.".concat(h.key)),cb:{Edit:()=>R(e.id),Delete:()=>A(e.id)}},t))})]})};t.Z=v},19127:function(e,t,i){"use strict";var n=i(85893),r=i(26447),a=i(87357),o=i(44057),l=i(9576);i(76595);var s=i(19716),d=i(67294),c=i(34578),u=i(88767);i(80681);var p=i(38560);i(39272);var m=i(71666),f=i(94546);let x=e=>{var t;let{plan:i,editData:x,clearEdit:v=()=>{},openSideMenu:g,setOpenSideMenu:h}=e,{endpoint:b,postFn:Z,key:j,putFn:y,transform:k=e=>e}=i,S=(0,p.Z)(e=>e.setProgress),w=(0,c.VY)(),E=(0,u.useQueryClient)(),D=(0,u.useMutation)(e=>x?y(b,x.id,k(e),S):Z(b,k(e),S),{onSuccess(){h(!1),E.invalidateQueries("get"+j),w.success((null==x?void 0:x.id)?"Updated":"created")},onError(e){w.error("Failed")}});return(0,d.useEffect)(e=>{x&&(console.log("Opening"),h(!0))},[x]),(0,d.useEffect)(e=>{g||v()},[g]),(0,n.jsx)(r.Z,{spacing:2,m:2,divider:(0,n.jsx)(l.Z,{}),children:(0,n.jsxs)(r.Z,{direction:"row",spacing:3,children:[(0,n.jsx)(s.Z,{sx:{flex:1}}),(0,n.jsx)(o.Z,{variant:"contained",onClick:()=>h(!0),children:null==i?void 0:i.sideBarTitle}),g&&(0,n.jsx)(m.Z,{open:g,callback:h,title:(null==x?void 0:x.id)?null==i?void 0:null===(t=i.sideBarTitle)||void 0===t?void 0:t.replace("Add","Update"):null==i?void 0:i.sideBarTitle,children:(0,n.jsx)(a.Z,{p:2,children:(0,n.jsx)(f.Z,{plan:i,onSubmit:e=>D.mutate({...e}),formData:x})})})]})})};t.Z=x},73804:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=i(85893),r=i(42019),a=i(19127),o=i(19211);i(69745),i(77339),i(32530);var l=i(54742);i(11163);var s=i(67294),d=i(88767),c=i(558),u=i(39272);let p={sideBarTitle:"Add Department",section:{fields:[{label:"Department Name",isRequired:!0,type:"Text",id:"departmentName",gridSizes:{xs:12,sm:6,md:12,lg:12},config:{placeholder:"Department Name"},validations:[{type:"required"}]},{label:"Description",type:"Text",id:"description",gridSizes:{xs:12,sm:6,md:12,lg:12},isMultiline:!0,config:{placeholder:"Description"},validations:[{type:"required"}]},{label:"Department Head",type:"Select",gridSizes:{xs:12,sm:6,md:12,lg:12},id:"departmentHead",validations:[{type:"required"}],select:{type:"inLine",options:[{value:"c152a174-6024-4490-b1ac-5944337bb943",label:"Emp 1"},{value:"a107a512-a6a5-11ed-afa1-0242ac120002",label:"EMp 2"},{value:"a107a6fc-a6a5-11ed-afa1-0242ac120002",label:"Emp 3"}]}}]},postFn:c.fj,putFn:c.m7,key:"department",endpoint:"settings/department"},m={form:[{header:"",fields:""}],key:"department",endpoint:"settings/department",texts:{key:"departmentName",breadcrumbText:"Department",drawerTitle:"Add Deparment",mainTitle:"List of Departments",mainDescription:"This is short description for division",sideTitle:"Deparment",sideDescription:"this is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:c.$8,postFn:c.fj,putFn:c.m7,deleteFn:c.WN};function f(){var e;let t=(0,d.useQueryClient)(),{isLoading:i,data:f,error:x}=(0,d.useQuery)("get"+p.key,()=>(0,c.$8)(p.endpoint,{page:1})),[v,g]=(0,s.useState)(!1),[h,b]=(0,s.useState)(null),Z=(0,d.useMutation)(e=>(0,c.WN)(p.endpoint,e),{onSuccess(){t.invalidateQueries("get"+p.key),alert("Deleted"),g(!1)},onError(e){alert("Failed")}}),j=e=>{g(!0),b(e)},y=e=>{window.confirm("Do you want to delete this ? ")&&Z.mutate({id:e})};return(0,s.useEffect)(e=>{v||b(null)},[v]),(0,n.jsxs)(l.Z,{texts:m.texts,children:[(0,n.jsx)(a.Z,{plan:p,openSideMenu:v,setOpenSideMenu:g,editData:h}),(0,n.jsx)(o.Z,{sx:{rowGap:1},children:i?"Loading":null==f?void 0:null===(e=f.data)||void 0===e?void 0:e.map((e,t)=>(0,n.jsx)(r.Z,{label:(0,u.I)(e,"**.departmentName"),cb:{Edit:()=>j(e),Delete:()=>y(e.id)}},t))})]})}}},function(e){e.O(0,[3662,3552,4885,5675,7655,129,1489,1567,8360,7417,9912,5003,7757,9482,4546,9774,2888,179],function(){return e(e.s=79173)}),_N_E=e.O()}]);