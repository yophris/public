(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{75071:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M22 24H2v-4h20v4zM13.06 5.19l3.75 3.75L7.75 18H4v-3.75l9.06-9.06zm4.82 2.68-3.75-3.75 1.83-1.83c.39-.39 1.02-.39 1.41 0l2.34 2.34c.39.39.39 1.02 0 1.41l-1.83 1.83z"}),"BorderColor");i.Z=a},41733:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");i.Z=a},75503:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");i.Z=a},57976:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");i.Z=a},42761:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");i.Z=a},24707:function(e,i,n){"use strict";n.d(i,{_:function(){return s}});var t=n(87462),o=n(1588),r=n(34867),a=n(55827);function s(e){return(0,r.Z)("MuiFilledInput",e)}let l=(0,t.Z)({},a.Z,(0,o.Z)("MuiFilledInput",["root","underline","input"]));i.Z=l},7021:function(e,i,n){"use strict";n.d(i,{l:function(){return s}});var t=n(87462),o=n(1588),r=n(34867),a=n(55827);function s(e){return(0,r.Z)("MuiInput",e)}let l=(0,t.Z)({},a.Z,(0,o.Z)("MuiInput",["root","underline","input"]));i.Z=l},54656:function(e,i,n){"use strict";n.d(i,{e:function(){return s}});var t=n(87462),o=n(1588),r=n(34867),a=n(55827);function s(e){return(0,r.Z)("MuiOutlinedInput",e)}let l=(0,t.Z)({},a.Z,(0,o.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));i.Z=l},60224:function(e,i,n){"use strict";n(67294);var t=n(88169),o=n(85893);i.Z=(0,t.Z)((0,o.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},25558:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/settings/general/division",function(){return n(78605)}])},88345:function(e,i,n){"use strict";n.d(i,{Z:function(){return m}});var t=n(85893),o=n(67294),r=n(68245),a=n(15861),s=n(98456),l=n(90629),d=n(13970),u=n(75503),c=n(88767),p=n(87536);function m(e){var i;let{setValue:n,reset:m,label:v,options:x=[{text:"",value:""}],name:f,error:h,isRequired:Z,asyncData:g,watch:j,resetField:y,control:b,getValues:w,...k}=e,D=(0,p.qo)({control:b,name:null==g?void 0:g.lookup}),[E,_]=o.useState("");console.log("watchFields",f,null==g?void 0:g.lookup,D);let{isLoading:C,data:F,error:M,isSuccess:z}=(0,c.useQuery)({queryKey:["get"+(null==g?void 0:g.key),...(null==g?void 0:g.lookup)||[],D,E],queryFn:()=>g.endpointApi("function"==typeof g.endpoint?g.endpoint(D):g.endpoint,{name:E}),enabled:null==g||!g.lookup||(Array.isArray(D)?!D.some(e=>!e):!!D)}),[S,T]=o.useState(!1),[I,A]=o.useState([]),P=S&&0===I.length;return o.useEffect(()=>{let e=!0;if(P)return(async()=>{e&&A([...(null==F?void 0:F.data.map((null==g?void 0:g.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[P]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[v,Z&&(0,t.jsx)(a.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,t.jsx)(r.Z,{popupIcon:C?(0,t.jsx)(s.Z,{color:"inherit",size:20}):(0,t.jsx)(u.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:S,onOpen(){T(!0)},onClose(){T(!1)},value:null===(i=w(f))||void 0===i?void 0:i.value,isOptionEqualToValue:(e,i)=>e.value===i.value,onChange:(e,i)=>n(f,i),getOptionLabel:e=>e.text,options:I,loading:C,renderOption:(e,i,n)=>(0,t.jsx)("li",{...e,children:(0,t.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:i.text})}),onInputChange(e,i){_(i)},renderInput:e=>(0,t.jsx)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,t.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,t.jsx)(o.Fragment,{children:e.InputProps.endAdornment}),...k})})})]},JSON.stringify(D))}},12242:function(e,i,n){"use strict";n.d(i,{Z:function(){return S}});var t=n(85893),o=n(26447),r=n(44057),a=n(9576),s=n(76595),l=n(42761),d=n(13970),u=n(90629),c=n(67294);function p(e){let{...i}=e;return(0,t.jsxs)(u.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,t.jsx)(l.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,t.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}var m=n(34578),v=n(88767);n(80681);var x=n(38560),f=n(39272),h=n(15861),Z=n(87357),g=n(93946),j=n(35294),y=n(18972),b=n(57976),w=n(75071),k=n(41733),D=n(25675),E=n.n(D),_=n(1574);let C=["Edit","Delete"];function F(e){let{label:i="",cb:n={}}=e,[r,a]=c.useState(null),s=Boolean(r),l=e=>{a(e.currentTarget)},d=()=>{a(null)},u=e=>{let i=n[e];i&&(i(),d())};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{border:"1px solid #E4E7EB",borderRadius:1,padding:2},children:[(0,t.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,t.jsx)(E(),{src:"/images/starYellow.svg",width:20,height:20,alt:"favourite"}),(0,t.jsx)(_.Z,{size:18,colorVal:"#46C0C0"}),(0,t.jsx)(h.Z,{variant:"h3_medium_secondary",component:"h3",children:i})]}),(0,t.jsx)(o.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(g.Z,{"aria-label":"more",id:"long-button","aria-controls":s?"long-menu":void 0,"aria-expanded":s?"true":void 0,"aria-haspopup":"true",onClick:l,children:(0,t.jsx)(b.Z,{sx:{color:"text.secondary",fontSize:"2rem"}})}),(0,t.jsx)(j.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:r,open:s,onClose:d,PaperProps:{style:{maxHeight:216,width:"auto"}},children:C.map(e=>(0,t.jsxs)(y.Z,{selected:"Pyxis"===e,onClick:()=>u(e),children:[(0,t.jsx)(h.Z,{mr:1,variant:"body_medium_tertiary",component:"p",children:"Delete"===e?(0,t.jsx)(k.Z,{sx:{color:"#F53E40"}}):(0,t.jsx)(w.Z,{})}),(0,t.jsx)(h.Z,{sx:{color:"Delete"===e&&"#F53E40"},variant:"body_medium_tertiary",component:"p",children:e})]},e))})]})})]})})}var M=n(71666);let z=e=>{var i,n;let{config:l}=e,{endpoint:d,texts:u,getAllFn:h,postFn:Z,key:g,deleteFn:j,validation:y,putFn:b,transform:w=e=>e}=l,k=(0,x.Z)(e=>e.setProgress),D=(0,m.VY)(),E=(0,v.useQueryClient)(),[_,C]=c.useState(!1),[z,S]=(0,c.useState)(null),{isLoading:T,data:I,error:A}=(0,v.useQuery)("get"+g,()=>h(d,{page:1})),P=(0,v.useMutation)(e=>z?b(d,z,w(e),k):Z(d,w(e),k),{onSuccess(){C(!1),E.invalidateQueries("get"+g),D.success(z?"Updated":"created")},onError(e){D.error("Failed")}}),N=(0,v.useMutation)(e=>j(d,e),{onSuccess(){E.invalidateQueries("get"+g),D("Deleted"),C(!1)},onError(e){D("Failed")}}),H=e=>{C(!0),S(e)},L=e=>{window.confirm("Do you want to delete this ? ")&&N.mutate({id:e})};return(0,c.useEffect)(e=>{_||S(null)},[_]),(0,t.jsxs)(o.Z,{spacing:2,m:2,divider:(0,t.jsx)(a.Z,{}),children:[(0,t.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(p,{sx:{flex:1}}),(0,t.jsx)(r.Z,{variant:"contained",onClick:()=>C(!0),children:null==u?void 0:u.drawerTitle}),_&&(0,t.jsx)(M.Z,{open:_,callback:C,title:z?null==u?void 0:null===(i=u.drawerTitle)||void 0===i?void 0:i.replace("Add","Update"):null==u?void 0:u.drawerTitle,children:(0,t.jsx)(s.Z,{form:l.form,edit:z?{...I.data.find(e=>e.id==z)}:null,submitData:e=>P.mutate({...e}),validationSchema:y,cancelDrawer:()=>C(!1)})})]}),(0,t.jsx)(o.Z,{sx:{rowGap:1},children:T?"Loading":null==I?void 0:null===(n=I.data)||void 0===n?void 0:n.map((e,i)=>(0,t.jsx)(F,{label:(0,f.I)(e,"**.".concat(u.key)),cb:{Edit:()=>H(e.id),Delete:()=>L(e.id)}},i))})]})};var S=z},78605:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return c}});var t=n(85893),o=n(88345),r=n(77339),a=n(12242),s=n(54742),l=n(558);let d=[{element:r.Z,attr:{label:"Division Name",name:"division.divisionName"},validation:{validationType:"string",validations:[{type:"required",params:["Division Name is Required"]}]},xs:6},{element:r.Z,attr:{label:"Division Type",name:"division.divisionType"},xs:6},{element:r.Z,attr:{label:"Description",name:"division.description",isMultiline:!0},xs:12},{element:o.Z,attr:{label:"Division Head",name:"division.divisionHead",asyncData:{endpointApi:l.$8,endpoint:"settings/workweek",key:"data"},options:[{text:"Division Head 1",value:"dh1"},{text:"Division Head 2",value:"dh2"},{text:"Division Head 3",value:"dh3"}]},xs:12}],u={key:"division",form:[{header:"",fields:d}],endpoint:"settings/division",texts:{title:"Division",key:"divisionName",breadcrumbText:"Division",drawerTitle:"Add Division",mainTitle:"List of Divisions",mainDescription:"It is short description for division",sideTitle:"List of Divisions",sideDescription:"This is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:l.$8,postFn:l.fj,putFn:l.m7,deleteFn:l.WN};function c(){return(0,t.jsx)(s.Z,{texts:u.texts,children:(0,t.jsx)(a.Z,{config:u})})}}},function(e){e.O(0,[662,552,675,839,371,733,83,774,888,179],function(){return e(e.s=25558)}),_N_E=e.O()}]);