(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{13851:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/settings/general/user-roles",function(){return o(53353)}])},12242:function(e,t,o){"use strict";o.d(t,{Z:function(){return T}});var l=o(85893),r=o(26447),a=o(44057),i=o(9576),n=o(76595),s=o(42761),d=o(13970),c=o(90629),m=o(67294);function u(e){let{...t}=e;return(0,l.jsxs)(c.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,l.jsx)(s.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,l.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}var p=o(34578),h=o(88767);o(80681);var b=o(38560),x=o(39272),g=o(15861),y=o(87357),f=o(93946),E=o(35294),j=o(18972),w=o(57976),v=o(75071),R=o(41733),Z=o(25675),S=o.n(Z),k=o(1574);let D=["Edit","Delete"];function q(e){let{label:t="",cb:o={}}=e,[a,i]=m.useState(null),n=Boolean(a),s=e=>{i(e.currentTarget)},d=()=>{i(null)},c=e=>{let t=o[e];t&&(t(),d())};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{border:"1px solid #E4E7EB",borderRadius:1,padding:2},children:[(0,l.jsxs)(r.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,l.jsx)(S(),{src:"/images/starYellow.svg",width:20,height:20,alt:"favourite"}),(0,l.jsx)(k.Z,{size:18,colorVal:"#46C0C0"}),(0,l.jsx)(g.Z,{variant:"h3_medium_secondary",component:"h3",children:t})]}),(0,l.jsx)(r.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:(0,l.jsxs)(y.Z,{children:[(0,l.jsx)(f.Z,{"aria-label":"more",id:"long-button","aria-controls":n?"long-menu":void 0,"aria-expanded":n?"true":void 0,"aria-haspopup":"true",onClick:s,children:(0,l.jsx)(w.Z,{sx:{color:"text.secondary",fontSize:"2rem"}})}),(0,l.jsx)(E.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:a,open:n,onClose:d,PaperProps:{style:{maxHeight:216,width:"auto"}},children:D.map(e=>(0,l.jsxs)(j.Z,{selected:"Pyxis"===e,onClick:()=>c(e),children:[(0,l.jsx)(g.Z,{mr:1,variant:"body_medium_tertiary",component:"p",children:"Delete"===e?(0,l.jsx)(R.Z,{sx:{color:"#F53E40"}}):(0,l.jsx)(v.Z,{})}),(0,l.jsx)(g.Z,{sx:{color:"Delete"===e&&"#F53E40"},variant:"body_medium_tertiary",component:"p",children:e})]},e))})]})})]})})}var C=o(71666);let F=e=>{var t,o;let{config:s}=e,{endpoint:d,texts:c,getAllFn:g,postFn:y,key:f,deleteFn:E,validation:j,putFn:w,transform:v=e=>e}=s,R=(0,b.Z)(e=>e.setProgress),Z=(0,p.VY)(),S=(0,h.useQueryClient)(),[k,D]=m.useState(!1),[F,T]=(0,m.useState)(null),{isLoading:_,data:A,error:P}=(0,h.useQuery)("get"+f,()=>g(d,{page:1})),M=(0,h.useMutation)(e=>F?w(d,F,v(e),R):y(d,v(e),R),{onSuccess(){D(!1),S.invalidateQueries("get"+f),Z.success(F?"Updated":"created")},onError(e){Z.error("Failed")}}),I=(0,h.useMutation)(e=>E(d,e),{onSuccess(){S.invalidateQueries("get"+f),Z("Deleted"),D(!1)},onError(e){Z("Failed")}}),N=e=>{D(!0),T(e)},L=e=>{window.confirm("Do you want to delete this ? ")&&I.mutate({id:e})};return(0,m.useEffect)(e=>{k||T(null)},[k]),(0,l.jsxs)(r.Z,{spacing:2,m:2,divider:(0,l.jsx)(i.Z,{}),children:[(0,l.jsxs)(r.Z,{direction:"row",spacing:3,children:[(0,l.jsx)(u,{sx:{flex:1}}),(0,l.jsx)(a.Z,{variant:"contained",onClick:()=>D(!0),children:null==c?void 0:c.drawerTitle}),k&&(0,l.jsx)(C.Z,{open:k,callback:D,title:F?null==c?void 0:null===(t=c.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==c?void 0:c.drawerTitle,children:(0,l.jsx)(n.Z,{form:s.form,edit:F?{...A.data.find(e=>e.id==F)}:null,submitData:e=>M.mutate({...e}),validationSchema:j,cancelDrawer:()=>D(!1)})})]}),(0,l.jsx)(r.Z,{sx:{rowGap:1},children:_?"Loading":null==A?void 0:null===(o=A.data)||void 0===o?void 0:o.map((e,t)=>(0,l.jsx)(q,{label:(0,x.I)(e,"**.".concat(c.key)),cb:{Edit:()=>N(e.id),Delete:()=>L(e.id)}},t))})]})};var T=F},53353:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return f}});var l=o(85893),r=o(67294),a=o(77339),i=o(12242),n=o(54742),s=o(86886),d=o(26447),c=o(87357),m=o(50480),u=o(69368),p=o(15861);function h(e){let{attr:t,handleChange:o,editAllChanged:a,...i}=e,[n,s]=r.useState(!1),[d,h]=r.useState({borderColor:"#EFEFEF",background:""}),b=e=>{e?h({borderColor:"rgba(55, 125, 255, 0.5)",background:"#DAEDFF"}):h({borderColor:"#EFEFEF",background:""})};return r.useEffect(()=>{s(a),b(a)},[a]),(0,l.jsx)(c.Z,{sx:{border:"1px solid",color:d,px:2,borderRadius:1.25,...i},...i,children:(0,l.jsx)(m.Z,{control:(0,l.jsx)(u.Z,{size:"large",sx:{"& .MuiSvgIcon-root":{fontSize:"2rem"}},checked:n,onChange(e,l){b(l),s(l),o(e,t.name,l)},disableRipple:!0}),label:(0,l.jsx)(p.Z,{variant:"body_medium_secondary",component:"p",children:t.label}),labelPlacement:"end"})})}function b(e){let{attrs:t,selectAllOption:o,setValue:a,getValues:i}=e,[n,c]=r.useState(!1);r.useEffect(()=>{t.forEach(e=>a(e.name,n))},[n]);let m=(e,o,l)=>{c(e.target.checked),t.forEach(e=>a(e.name,l))},u=(e,t,o)=>{a(t,o),o||c(o)};return(0,l.jsxs)(s.ZP,{item:!0,sx:{paddingLeft:0,margin:0,width:"100%"},children:[(null==o?void 0:o.isEnabled)&&(0,l.jsx)(h,{width:"100%",attr:{label:null==o?void 0:o.label},handleChange:m}),(0,l.jsx)(d.Z,{direction:"row",sx:(null==o?void 0:o.isEnabled)&&{borderLeft:"1px solid #efefef",mt:2,ml:4,pl:2},flexWrap:"wrap",rowGap:1,columnGap:1,children:t&&t.map(e=>{void 0===i(e.name)&&a(e.name,!1);let t=i(e.name);return void 0!==t&&(0,l.jsx)(h,{attr:e,editAllChanged:n,handleChange:u},e.name)})})]})}var x=o(558);let g=[{element:a.Z,attr:{label:"Role Name",name:"userRoles.name"},validation:{validationType:"string",validations:[{type:"required",params:["User Roles Name is Required"]}]},xs:12},{element:a.Z,attr:{label:"Description",name:"userRoles.description",isMultiline:!0},xs:12}],y={key:"userRoles",form:[{header:"",fields:g},{header:"Permissions",subHeader:"This will be important to show or hide the pages according to user roles"},{header:"Employee Request Setting",subHeader:"Select the areas where user-role can approve, reject employee request",noDivider:!0,fields:[{element:b,type:"group",attrs:[{name:"employeeRequest.termination",label:"Manage Termination Request"},{name:"employeeRequest.trasfer",label:"Manage Transfer Request"},{name:"employeeRequest.leave",label:"Manage Leave Request"},{name:"employeeRequest.resignation",label:"Manage Resignation Request"},{name:"employeeRequest.reimbursement",label:"Manage Reimbursement Request"}],isRequired:!1}]},{header:"Employee Directory",subHeader:"This will be important to show or hide the pages according to user roles",fields:[{element:b,type:"group",attrs:[{name:"employeeDirectory.showEmployeeStatus",label:"Show Inactive / Deleted / Exited Employee"},{name:"employeeDirectory.importEmployee",label:"Import Employee to Directory"},{name:"employeeDirectory.exportEmployee",label:"Export Employee to Directory"},{name:"employeeDirectory.deleteEmployee",label:"Delete employee from Directory"}],isRequired:!1}]},{header:"Access to other employee profile",subHeader:"This will be important to show or hide the pages according to user roles",fields:[{element:b,type:"group",selectAllOption:{isEnabled:!0,label:"View all fields of other employees"},attrs:[{name:"otherEmployeeAccess.personalSectionView",label:"Personal Section"},{name:"otherEmployeeAccess.jobSectionView",label:"Job Section"},{name:"otherEmployeeAccess.employmentEducationView",label:"Employment Education"},{name:"otherEmployeeAccess.compensationView",label:"Compensation Section"}],isRequired:!1},{element:b,type:"group",selectAllOption:{isEnabled:!0,label:"Edit all fields of other employees"},attrs:[{name:"otherEmployeeAccess.personalSectionEdit",label:"Personal Section"},{name:"otherEmployeeAccess.jobSectionEdit",label:"Job Section"},{name:"otherEmployeeAccess.employmentEducationEdit",label:"Employment Education"},{name:"otherEmployeeAccess.compensationEdit",label:"Compensation Section"}],isRequired:!1}]},{header:"Payroll",subHeader:"This will be important to show or hide the pages according to user roles",fields:[{element:b,type:"group",attrs:[{name:"payroll.manageAllPayrolls",label:"Manage All Payroll Processes"}],isRequired:!1}]}],endpoint:"settings/userRoles",texts:{title:"User Roles",key:"userRolesName",breadcrumbText:"Manage Roles",drawerTitle:"Add User Roles",mainTitle:"List of User Roles",mainDescription:"It is short description for userRoles",sideTitle:"User Role",sideDescription:"This is long long long for userRoles saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:x.$8,postFn:x.fj,putFn:x.m7,deleteFn:x.WN};function f(){return(0,l.jsx)(n.Z,{texts:y.texts,children:(0,l.jsx)(i.Z,{config:y})})}}},function(e){e.O(0,[662,552,675,839,371,384,83,774,888,179],function(){return e(e.s=13851)}),_N_E=e.O()}]);