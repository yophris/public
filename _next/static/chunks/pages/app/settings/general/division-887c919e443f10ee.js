(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{42761:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");i.Z=a},24707:function(e,i,n){"use strict";n.d(i,{_:function(){return s}});var t=n(87462),o=n(1588),r=n(34867),a=n(55827);function s(e){return(0,r.Z)("MuiFilledInput",e)}let l=(0,t.Z)({},a.Z,(0,o.Z)("MuiFilledInput",["root","underline","input"]));i.Z=l},7021:function(e,i,n){"use strict";n.d(i,{l:function(){return s}});var t=n(87462),o=n(1588),r=n(34867),a=n(55827);function s(e){return(0,r.Z)("MuiInput",e)}let l=(0,t.Z)({},a.Z,(0,o.Z)("MuiInput",["root","underline","input"]));i.Z=l},54656:function(e,i,n){"use strict";n.d(i,{e:function(){return s}});var t=n(87462),o=n(1588),r=n(34867),a=n(55827);function s(e){return(0,r.Z)("MuiOutlinedInput",e)}let l=(0,t.Z)({},a.Z,(0,o.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));i.Z=l},60224:function(e,i,n){"use strict";n(67294);var t=n(88169),o=n(85893);i.Z=(0,t.Z)((0,o.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},25558:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/settings/general/division",function(){return n(78605)}])},88345:function(e,i,n){"use strict";n.d(i,{Z:function(){return m}});var t=n(85893),o=n(67294),r=n(68245),a=n(15861),s=n(98456),l=n(90629),d=n(13970),u=n(75503),c=n(88767),p=n(87536);function m(e){var i;let{setValue:n,reset:m,label:v,options:f=[{text:"",value:""}],name:x,error:Z,isRequired:g,asyncData:h,watch:j,resetField:y,control:b,getValues:k,...D}=e,w=(0,p.qo)({control:b,name:null==h?void 0:h.lookup}),[E,F]=o.useState("");console.log("watchFields",x,null==h?void 0:h.lookup,w);let{isLoading:S,data:T,error:_,isSuccess:I}=(0,c.useQuery)({queryKey:["get"+(null==h?void 0:h.key),...(null==h?void 0:h.lookup)||[],w,E],queryFn:()=>h.endpointApi("function"==typeof h.endpoint?h.endpoint(w):h.endpoint,{name:E}),enabled:null==h||!h.lookup||(Array.isArray(w)?!w.some(e=>!e):!!w)}),[A,C]=o.useState(!1),[M,N]=o.useState([]),O=A&&0===M.length;return o.useEffect(()=>{let e=!0;if(O)return(async()=>{e&&N([...(null==T?void 0:T.data.map((null==h?void 0:h.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[O]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[v,g&&(0,t.jsx)(a.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,t.jsx)(r.Z,{popupIcon:S?(0,t.jsx)(s.Z,{color:"inherit",size:20}):(0,t.jsx)(u.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:A,onOpen(){C(!0)},onClose(){C(!1)},value:null===(i=k(x))||void 0===i?void 0:i.value,isOptionEqualToValue:(e,i)=>e.value===i.value,onChange:(e,i)=>n(x,i),getOptionLabel:e=>e.text,options:M,loading:S,renderOption:(e,i,n)=>(0,t.jsx)("li",{...e,children:(0,t.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:i.text})}),onInputChange(e,i){F(i)},renderInput:e=>(0,t.jsx)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,t.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,t.jsx)(o.Fragment,{children:e.InputProps.endAdornment}),...D})})})]},JSON.stringify(w))}},19716:function(e,i,n){"use strict";n.d(i,{Z:function(){return s}});var t=n(85893),o=n(42761),r=n(13970),a=n(90629);function s(e){let{...i}=e;return(0,t.jsxs)(a.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,t.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,t.jsx)(r.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}n(67294)},32530:function(e,i,n){"use strict";var t=n(85893),o=n(26447),r=n(44057),a=n(9576),s=n(76595),l=n(19716),d=n(67294),u=n(34578),c=n(88767);n(80681);var p=n(38560),m=n(39272),v=n(42019),f=n(71666);let x=e=>{var i,n;let{config:x}=e,{endpoint:Z,texts:g,getAllFn:h,postFn:j,key:y,deleteFn:b,validation:k,putFn:D,transform:w=e=>e}=x,E=(0,p.Z)(e=>e.setProgress),F=(0,u.VY)(),S=(0,c.useQueryClient)(),[T,_]=d.useState(!1),[I,A]=(0,d.useState)(null),{isLoading:C,data:M,error:N}=(0,c.useQuery)("get"+y,()=>h(Z,{page:1})),O=(0,c.useMutation)(e=>I?D(Z,I,w(e),E):j(Z,w(e),E),{onSuccess(){_(!1),S.invalidateQueries("get"+y),F.success(I?"Updated":"created")},onError(e){F.error("Failed")}}),z=(0,c.useMutation)(e=>b(Z,e),{onSuccess(){S.invalidateQueries("get"+y),F("Deleted"),_(!1)},onError(e){F("Failed")}}),q=e=>{_(!0),A(e)},P=e=>{window.confirm("Do you want to delete this ? ")&&z.mutate({id:e})};return(0,d.useEffect)(e=>{T||A(null)},[T]),(0,t.jsxs)(o.Z,{spacing:2,m:2,divider:(0,t.jsx)(a.Z,{}),children:[(0,t.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(l.Z,{sx:{flex:1}}),(0,t.jsx)(r.Z,{variant:"contained",onClick:()=>_(!0),children:null==g?void 0:g.drawerTitle}),T&&(0,t.jsx)(f.Z,{open:T,callback:_,title:I?null==g?void 0:null===(i=g.drawerTitle)||void 0===i?void 0:i.replace("Add","Update"):null==g?void 0:g.drawerTitle,children:(0,t.jsx)(s.Z,{form:x.form,edit:I?{...M.data.find(e=>e.id==I)}:null,submitData:e=>O.mutate({...e}),validationSchema:k,cancelDrawer:()=>_(!1)})})]}),(0,t.jsx)(o.Z,{sx:{rowGap:1},children:C?"Loading":null==M?void 0:null===(n=M.data)||void 0===n?void 0:n.map((e,i)=>(0,t.jsx)(v.Z,{label:(0,m.I)(e,"**.".concat(g.key)),cb:{Edit:()=>q(e.id),Delete:()=>P(e.id)}},i))})]})};i.Z=x},78605:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return c}});var t=n(85893),o=n(88345),r=n(77339),a=n(32530),s=n(54742),l=n(558);let d=[{element:r.Z,attr:{label:"Division Name",name:"division.divisionName"},validation:{validationType:"string",validations:[{type:"required",params:["Division Name is Required"]}]},xs:6},{element:r.Z,attr:{label:"Division Type",name:"division.divisionType"},xs:6},{element:r.Z,attr:{label:"Description",name:"division.description",isMultiline:!0},xs:12},{element:o.Z,attr:{label:"Division Head",name:"division.divisionHead",asyncData:{endpointApi:l.$8,endpoint:"settings/workweek",key:"data"},options:[{text:"Division Head 1",value:"dh1"},{text:"Division Head 2",value:"dh2"},{text:"Division Head 3",value:"dh3"}]},xs:12}],u={key:"division",form:[{header:"",fields:d}],endpoint:"settings/division",texts:{title:"Division",key:"divisionName",breadcrumbText:"Division",drawerTitle:"Add Division",mainTitle:"List of Divisions",mainDescription:"It is short description for division",sideTitle:"List of Divisions",sideDescription:"This is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:l.$8,postFn:l.fj,putFn:l.m7,deleteFn:l.WN};function c(){return(0,t.jsx)(s.Z,{texts:u.texts,children:(0,t.jsx)(a.Z,{config:u})})}}},function(e){e.O(0,[3662,3552,5675,7655,129,1489,1567,7417,3513,9482,9774,2888,179],function(){return e(e.s=25558)}),_N_E=e.O()}]);