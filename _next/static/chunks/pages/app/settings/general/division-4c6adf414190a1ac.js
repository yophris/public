(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{75071:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),s=(0,o.default)((0,r.jsx)("path",{d:"M22 24H2v-4h20v4zM13.06 5.19l3.75 3.75L7.75 18H4v-3.75l9.06-9.06zm4.82 2.68-3.75-3.75 1.83-1.83c.39-.39 1.02-.39 1.41 0l2.34 2.34c.39.39.39 1.02 0 1.41l-1.83 1.83z"}),"BorderColor");i.Z=s},41733:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),s=(0,o.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");i.Z=s},57976:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),s=(0,o.default)((0,r.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");i.Z=s},42761:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),r=n(85893),s=(0,o.default)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");i.Z=s},24707:function(e,i,n){"use strict";n.d(i,{_:function(){return a}});var t=n(87462),o=n(1588),r=n(34867),s=n(55827);function a(e){return(0,r.Z)("MuiFilledInput",e)}let l=(0,t.Z)({},s.Z,(0,o.Z)("MuiFilledInput",["root","underline","input"]));i.Z=l},7021:function(e,i,n){"use strict";n.d(i,{l:function(){return a}});var t=n(87462),o=n(1588),r=n(34867),s=n(55827);function a(e){return(0,r.Z)("MuiInput",e)}let l=(0,t.Z)({},s.Z,(0,o.Z)("MuiInput",["root","underline","input"]));i.Z=l},54656:function(e,i,n){"use strict";n.d(i,{e:function(){return a}});var t=n(87462),o=n(1588),r=n(34867),s=n(55827);function a(e){return(0,r.Z)("MuiOutlinedInput",e)}let l=(0,t.Z)({},s.Z,(0,o.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));i.Z=l},60224:function(e,i,n){"use strict";n(67294);var t=n(88169),o=n(85893);i.Z=(0,t.Z)((0,o.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},25558:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/settings/general/division",function(){return n(78605)}])},88345:function(e,i,n){"use strict";n.d(i,{Z:function(){return m}});var t=n(85893),o=n(67294),r=n(68245),s=n(15861),a=n(98456),l=n(90629),d=n(13970),u=n(75503),c=n(88767),p=n(87536);function m(e){var i;let{setValue:n,reset:m,label:v,options:x=[{text:"",value:""}],name:f,error:h,isRequired:Z,asyncData:g,watch:j,resetField:y,control:b,getValues:k,...w}=e,D=(0,p.qo)({control:b,name:null==g?void 0:g.lookup}),[E,_]=o.useState("");console.log("watchFields",f,null==g?void 0:g.lookup,D);let{isLoading:C,data:F,error:M,isSuccess:S}=(0,c.useQuery)({queryKey:["get"+(null==g?void 0:g.key),...(null==g?void 0:g.lookup)||[],D,E],queryFn:()=>g.endpointApi("function"==typeof g.endpoint?g.endpoint(D):g.endpoint,{name:E}),enabled:null==g||!g.lookup||(Array.isArray(D)?!D.some(e=>!e):!!D)}),[z,T]=o.useState(!1),[I,A]=o.useState([]),P=z&&0===I.length;return o.useEffect(()=>{let e=!0;if(P)return(async()=>{e&&A([...(null==F?void 0:F.data.map((null==g?void 0:g.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[P]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(s.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[v,Z&&(0,t.jsx)(s.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,t.jsx)(r.Z,{popupIcon:C?(0,t.jsx)(a.Z,{color:"inherit",size:20}):(0,t.jsx)(u.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:z,onOpen(){T(!0)},onClose(){T(!1)},value:null===(i=k(f))||void 0===i?void 0:i.value,isOptionEqualToValue:(e,i)=>e.value===i.value,onChange:(e,i)=>n(f,i),getOptionLabel:e=>e.text,options:I,loading:C,renderOption:(e,i,n)=>(0,t.jsx)("li",{...e,children:(0,t.jsx)(s.Z,{variant:"body_medium_secondary",component:"p",children:i.text})}),onInputChange(e,i){_(i)},renderInput:e=>(0,t.jsx)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,t.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,t.jsx)(o.Fragment,{children:e.InputProps.endAdornment}),...w})})})]},JSON.stringify(D))}},19716:function(e,i,n){"use strict";n.d(i,{Z:function(){return a}});var t=n(85893),o=n(42761),r=n(13970),s=n(90629);function a(e){let{...i}=e;return(0,t.jsxs)(s.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,t.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,t.jsx)(r.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}n(67294)},44889:function(e,i,n){"use strict";n.d(i,{Z:function(){return F}});var t=n(85893),o=n(26447),r=n(44057),s=n(9576),a=n(76595),l=n(19716),d=n(67294),u=n(34578),c=n(88767);n(80681);var p=n(38560),m=n(39272),v=n(15861),x=n(87357),f=n(93946),h=n(35294),Z=n(18972),g=n(57976),j=n(75071),y=n(41733),b=n(25675),k=n.n(b),w=n(1574);let D=["Edit","Delete"];function E(e){let{label:i="",cb:n={}}=e,[r,s]=d.useState(null),a=Boolean(r),l=e=>{s(e.currentTarget)},u=()=>{s(null)},c=e=>{let i=n[e];i&&(i(),u())};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{border:"1px solid #E4E7EB",borderRadius:1,padding:2},children:[(0,t.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,t.jsx)(k(),{src:"/images/starYellow.svg",width:20,height:20,alt:"favourite"}),(0,t.jsx)(w.Z,{size:18,colorVal:"#46C0C0"}),(0,t.jsx)(v.Z,{variant:"h3_medium_secondary",component:"h3",children:i})]}),(0,t.jsx)(o.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(f.Z,{"aria-label":"more",id:"long-button","aria-controls":a?"long-menu":void 0,"aria-expanded":a?"true":void 0,"aria-haspopup":"true",onClick:l,children:(0,t.jsx)(g.Z,{sx:{color:"text.secondary",fontSize:"2rem"}})}),(0,t.jsx)(h.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:r,open:a,onClose:u,PaperProps:{style:{maxHeight:216,width:"auto"}},children:D.map(e=>(0,t.jsxs)(Z.Z,{selected:"Pyxis"===e,onClick:()=>c(e),children:[(0,t.jsx)(v.Z,{mr:1,variant:"body_medium_tertiary",component:"p",children:"Delete"===e?(0,t.jsx)(y.Z,{sx:{color:"#F53E40"}}):(0,t.jsx)(j.Z,{})}),(0,t.jsx)(v.Z,{sx:{color:"Delete"===e&&"#F53E40"},variant:"body_medium_tertiary",component:"p",children:e})]},e))})]})})]})})}var _=n(71666);let C=e=>{var i,n;let{config:v}=e,{endpoint:x,texts:f,getAllFn:h,postFn:Z,key:g,deleteFn:j,validation:y,putFn:b,transform:k=e=>e}=v,w=(0,p.Z)(e=>e.setProgress),D=(0,u.VY)(),C=(0,c.useQueryClient)(),[F,M]=d.useState(!1),[S,z]=(0,d.useState)(null),{isLoading:T,data:I,error:A}=(0,c.useQuery)("get"+g,()=>h(x,{page:1})),P=(0,c.useMutation)(e=>S?b(x,S,k(e),w):Z(x,k(e),w),{onSuccess(){M(!1),C.invalidateQueries("get"+g),D.success(S?"Updated":"created")},onError(e){D.error("Failed")}}),N=(0,c.useMutation)(e=>j(x,e),{onSuccess(){C.invalidateQueries("get"+g),D("Deleted"),M(!1)},onError(e){D("Failed")}}),H=e=>{M(!0),z(e)},O=e=>{window.confirm("Do you want to delete this ? ")&&N.mutate({id:e})};return(0,d.useEffect)(e=>{F||z(null)},[F]),(0,t.jsxs)(o.Z,{spacing:2,m:2,divider:(0,t.jsx)(s.Z,{}),children:[(0,t.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(l.Z,{sx:{flex:1}}),(0,t.jsx)(r.Z,{variant:"contained",onClick:()=>M(!0),children:null==f?void 0:f.drawerTitle}),F&&(0,t.jsx)(_.Z,{open:F,callback:M,title:S?null==f?void 0:null===(i=f.drawerTitle)||void 0===i?void 0:i.replace("Add","Update"):null==f?void 0:f.drawerTitle,children:(0,t.jsx)(a.Z,{form:v.form,edit:S?{...I.data.find(e=>e.id==S)}:null,submitData:e=>P.mutate({...e}),validationSchema:y,cancelDrawer:()=>M(!1)})})]}),(0,t.jsx)(o.Z,{sx:{rowGap:1},children:T?"Loading":null==I?void 0:null===(n=I.data)||void 0===n?void 0:n.map((e,i)=>(0,t.jsx)(E,{label:(0,m.I)(e,"**.".concat(f.key)),cb:{Edit:()=>H(e.id),Delete:()=>O(e.id)}},i))})]})};var F=C},78605:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return c}});var t=n(85893),o=n(88345),r=n(77339),s=n(44889),a=n(54742),l=n(558);let d=[{element:r.Z,attr:{label:"Division Name",name:"division.divisionName"},validation:{validationType:"string",validations:[{type:"required",params:["Division Name is Required"]}]},xs:6},{element:r.Z,attr:{label:"Division Type",name:"division.divisionType"},xs:6},{element:r.Z,attr:{label:"Description",name:"division.description",isMultiline:!0},xs:12},{element:o.Z,attr:{label:"Division Head",name:"division.divisionHead",asyncData:{endpointApi:l.$8,endpoint:"settings/workweek",key:"data"},options:[{text:"Division Head 1",value:"dh1"},{text:"Division Head 2",value:"dh2"},{text:"Division Head 3",value:"dh3"}]},xs:12}],u={key:"division",form:[{header:"",fields:d}],endpoint:"settings/division",texts:{title:"Division",key:"divisionName",breadcrumbText:"Division",drawerTitle:"Add Division",mainTitle:"List of Divisions",mainDescription:"It is short description for division",sideTitle:"List of Divisions",sideDescription:"This is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:l.$8,postFn:l.fj,putFn:l.m7,deleteFn:l.WN};function c(){return(0,t.jsx)(a.Z,{texts:u.texts,children:(0,t.jsx)(s.Z,{config:u})})}}},function(e){e.O(0,[3662,3552,5675,7655,129,2737,343,7417,3513,448,9774,2888,179],function(){return e(e.s=25558)}),_N_E=e.O()}]);