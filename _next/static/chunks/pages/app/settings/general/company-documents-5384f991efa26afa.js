(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3562],{52778:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),o=n(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.Z=a},18987:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(63366),i=n(87462),o=n(67294),a=n(86010),s=n(94780),l=n(59773),c=n(90948),d=n(71657),u=n(1588),m=n(34867);function p(e){return(0,m.Z)("MuiListItemAvatar",e)}(0,u.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var f=n(85893);let x=["className"],g=e=>{let{alignItems:t,classes:n}=e;return(0,s.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},p,n)},h=(0,c.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver(e,t){let{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(({ownerState:e})=>(0,i.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})),v=o.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiListItemAvatar"}),{className:s}=n,c=(0,r.Z)(n,x),u=o.useContext(l.Z),m=(0,i.Z)({},n,{alignItems:u.alignItems}),p=g(m);return(0,f.jsx)(h,(0,i.Z)({className:(0,a.Z)(p.root,s),ownerState:m,ref:t},c))});var Z=v},51117:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/settings/general/company-documents",function(){return n(69612)}])},76797:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(85893);n(67294);var i=n(78462),o=n(97212),a=n(59334),s=n(18987),l=n(52778),c=n(15861),d=n(25675),u=n.n(d),m=n(9576),p=n(48885);let f={border:"2px dashed #BDCEDD",background:"#FAFAFA",borderRadius:"8px"};function x(e){let{file:t,handleRemove:n,isLast:d}=e;return console.log("files",t),(0,r.jsxs)(i.Z,{alignItems:"center",justifyContent:"center",sx:{width:"100%",bgcolor:"background.paper",px:2,...f},children:[(0,r.jsxs)(o.ZP,{sx:{px:0},alignItems:"center",children:[(0,r.jsx)(s.Z,{children:(0,r.jsx)(u(),{alt:"file image",src:"/images/pdfIcon.svg",width:36,height:36})}),(0,r.jsx)(a.Z,{primary:(0,r.jsx)(c.Z,{component:"p",variant:"body_medium_primary",children:t[0].path}),secondary:(0,r.jsxs)(c.Z,{component:"p",variant:"smallcopy_regular_muted",children:["Document - ",Number(t[0].size)/1e6," MB - .PDF"]})}),(0,r.jsx)(p.Z,{onClick:n,sx:{minWidth:0,cursor:"pointer"},children:(0,r.jsx)(l.Z,{sx:{fontSize:"2rem"}})})]}),!d&&(0,r.jsx)(m.Z,{borderColor:"#F0F0F0"})]})}},86471:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(85893),i=n(26447),o=n(87357),a=n(15861),s=n(25675),l=n.n(s),c=n(67294),d=n(99272),u=n(1746),m=n(87536),p=n(76797);n(88767),n(80681),n(38560);let f={height:"155px",border:"2px dashed #BDCEDD",background:"#FAFAFA",borderRadius:"8px"},x=["/images/pdfIcon.svg","/images/jpgIcon.svg","/images/docIcon.svg","/images/xlsIcon.svg"];function g(e){let{label:t,limit:n,type:s,bucket:g,register:h,name:v,error:Z,isRequired:j,control:b}=e,[y,D]=(0,c.useState)(null),[k,F]=(0,c.useState)(0),{fields:w,append:_,remove:I}=(0,m.Dq)({control:b,name:v}),[{canDrop:E,isOver:S},C]=(0,d.L)(()=>({accept:[u.FILE],drop(e){T&&T(e)},canDrop:e=>!0,hover(e){D(null)},collect(e){let t=e.getItem();return t&&console.log("Drag: collect",t.files,t.items),{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),[e.name]),T=async e=>{if(console.log("dropped",e),e.files.length>n){D("Only "+n+" files allowed"),setTimeout(e=>{D(null)},[2e3]);return}if(e.files.some(e=>!s.includes(e.type))){D("File not allowed"),setTimeout(e=>{D(null)},[2e3]);return}_(e.files)};(0,c.useEffect)(e=>{console.log(w)},[w]);let A=e=>{let{target:t}=e,{files:n}=t;console.log("files",n),_([n[0]])},L=(0,c.useRef)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:L,onChange:A,type:"file",hidden:!0,multiple:n>1,accept:s}),(0,r.jsxs)(i.Z,{onClick(){var e;return null==L?void 0:null===(e=L.current)||void 0===e?void 0:e.click()},ref:0==k?C:null,style:{...f,background:S?"lightgreen":y?"orange":f.background},justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o.Z,{mb:2,children:x&&x.map(e=>(0,r.jsx)(l(),{src:e,alt:"Vercel Logo",width:40,height:40,style:{opacity:.7}},e))}),(0,r.jsx)(o.Z,{children:E&&S?(0,r.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:"Release to drop"}):(0,r.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:y||(0,r.jsxs)(r.Fragment,{children:["Drag & Drop your document here, or"," ",(0,r.jsx)(a.Z,{variant:"body_bold_primary",component:"span",children:"Browse"})]})})}),(0,r.jsx)(a.Z,{variant:"smallcopy_regular_muted",component:"p",children:!y&&"Upload .pdf, .doc, .xls, .jpg & etc"})]}),w.map((e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{...h("".concat(v,".").concat(t)),hidden:!0},e.id),(0,r.jsx)(m.Qr,{render(e){let{field:{value:n}}=e;return(0,r.jsx)(p.Z,{file:n[t].name,handleRemove:()=>I(t),isLast:t===w.length-1})},name:"".concat(v),control:b},t)]}))]})}},19716:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(85893),i=n(42761),o=n(13970),a=n(90629);function s(e){let{...t}=e;return(0,r.jsxs)(a.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,r.jsx)(i.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,r.jsx)(o.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}n(67294)},32530:function(e,t,n){"use strict";var r=n(85893),i=n(26447),o=n(44057),a=n(9576),s=n(76595),l=n(19716),c=n(67294),d=n(34578),u=n(88767);n(80681);var m=n(38560),p=n(39272),f=n(42019),x=n(71666);let g=e=>{var t,n;let{config:g}=e,{endpoint:h,texts:v,getAllFn:Z,postFn:j,key:b,deleteFn:y,validation:D,putFn:k,transform:F=e=>e}=g,w=(0,m.Z)(e=>e.setProgress),_=(0,d.VY)(),I=(0,u.useQueryClient)(),[E,S]=c.useState(!1),[C,T]=(0,c.useState)(null),{isLoading:A,data:L,error:N}=(0,u.useQuery)("get"+b,()=>Z(h,{page:1})),M=(0,u.useMutation)(e=>C?k(h,C,F(e),w):j(h,F(e),w),{onSuccess(){S(!1),I.invalidateQueries("get"+b),_.success(C?"Updated":"created")},onError(e){_.error("Failed")}}),R=(0,u.useMutation)(e=>y(h,e),{onSuccess(){I.invalidateQueries("get"+b),_("Deleted"),S(!1)},onError(e){_("Failed")}}),P=e=>{S(!0),T(e)},z=e=>{window.confirm("Do you want to delete this ? ")&&R.mutate({id:e})};return(0,c.useEffect)(e=>{E||T(null)},[E]),(0,r.jsxs)(i.Z,{spacing:2,m:2,divider:(0,r.jsx)(a.Z,{}),children:[(0,r.jsxs)(i.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(l.Z,{sx:{flex:1}}),(0,r.jsx)(o.Z,{variant:"contained",onClick:()=>S(!0),children:null==v?void 0:v.drawerTitle}),E&&(0,r.jsx)(x.Z,{open:E,callback:S,title:C?null==v?void 0:null===(t=v.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==v?void 0:v.drawerTitle,children:(0,r.jsx)(s.Z,{form:g.form,edit:C?{...L.data.find(e=>e.id==C)}:null,submitData:e=>M.mutate({...e}),validationSchema:D,cancelDrawer:()=>S(!1)})})]}),(0,r.jsx)(i.Z,{sx:{rowGap:1},children:A?"Loading":null==L?void 0:null===(n=L.data)||void 0===n?void 0:n.map((e,t)=>(0,r.jsx)(f.Z,{label:(0,p.Im)(e,"**.".concat(v.key)),cb:{Edit:()=>P(e.id),Delete:()=>z(e.id)}},t))})]})};t.Z=g},69612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(85893),i=n(86471),o=n(77339),a=n(32530),s=n(54742),l=n(558),c=n(39272);let d=[{element:o.Z,attr:{label:"Document Name",name:"document.name"},xs:12},{element:i.Z,attr:{label:"Document Name",name:"file",bucket:"yop-company-docs",limit:1,type:["application/pdf"]},xs:12}],u={form:[{header:"",fields:d}],endpoint:"settings/companyDocument",texts:{key:"document.name",breadcrumbText:"Comapny Documents",drawerTitle:"Add Document",mainTitle:"List of Documents",mainDescription:"This is short description for division",sideTitle:"Document",sideDescription:"this is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},validation:null,getAllFn:l.$8,postFn:l.fj,putFn:l.m7,deleteFn:l.WN,transform(e){let t=(0,c.wG)(e);return console.log("formData out",t),t}};function m(){return(0,r.jsx)(s.Z,{texts:u.texts,children:(0,r.jsx)(a.Z,{config:u})})}}},function(e){e.O(0,[3662,3552,5675,6886,3213,4409,129,5229,6535,9482,9774,2888,179],function(){return e(e.s=51117)}),_N_E=e.O()}]);