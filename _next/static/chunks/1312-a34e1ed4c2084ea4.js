"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1312],{75503:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(64938)),i=t(85893),l=(0,o.default)((0,i.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");n.Z=l},3550:function(e,n,t){t(85893),t(42019),t(19127),t(86471),t(77339),t(32530),t(54742),t(67294),t(88767),t(558),t(39272)},69745:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(85893);t(67294);var o=t(87357),i=t(15861),l=t(18360),a=t(18972),s=t(90948),d=t(13970),c=t(75503);function u(e){let{label:n,name:t,options:s,register:d,setValue:u,error:x,isRequired:m,getValues:g,watch:f,hideLabel:v=!1,...h}=e;return(0,r.jsxs)(o.Z,{sx:{width:"100%"},children:[!v&&(0,r.jsxs)(i.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[n,m&&(0,r.jsx)(i.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,r.jsxs)(l.Z,{...d&&d,...h,input:(0,r.jsx)(p,{}),IconComponent:c.Z,sx:{fontSize:"1.4rem",fontWeight:500,color:"text.secondary",width:"100%"},children:[(0,r.jsx)(a.Z,{selected:!0,sx:{fontSize:"1.4rem",color:"text.secondary",fontStyle:"italic"},value:"",children:"None"}),s.length&&s.map((e,n)=>(0,r.jsx)(a.Z,{sx:{fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},value:e.value,disabled:e.disabled,children:e.text},n))]}),(null==x?void 0:x.message)&&(0,r.jsx)(i.Z,{variant:"h6",sx:{marginLeft:"4px",color:"red"},children:x.message})]})}let p=(0,s.ZP)(d.ZP)(e=>{let{theme:n}=e;return{alignItems:"center",backgroundColor:n.palette.background.main,border:"1px solid #EFEFEF",borderRadius:n.spacing(1),display:"flex",fontSize:"1.4rem",transition:n.transitions.create(["border-color","box-shadow"]),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"},"label + &":{marginTop:n.spacing(3)},"& .MuiInputBase-input":{color:n.palette.text.secondary,padding:"".concat(n.spacing(1.25)," ").concat(n.spacing(2))},"& .MuiSvgIcon-root":{fontSize:"2rem",marginRight:2,color:n.palette.text.tertiary}}})},86471:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(85893),o=t(26447),i=t(87357),l=t(15861),a=t(25675),s=t.n(a),d=t(67294),c=t(99272),u=t(1746),p=t(87536),x=t(76797);t(88767),t(80681),t(38560);let m={height:"155px",border:"2px dashed #BDCEDD",background:"#FAFAFA",borderRadius:"8px"},g=["/images/pdfIcon.svg","/images/jpgIcon.svg","/images/docIcon.svg","/images/xlsIcon.svg"];function f(e){let{label:n,limit:t,type:a,bucket:f,register:v,name:h,error:j,isRequired:Z,control:b}=e,[y,w]=(0,d.useState)(null),[S,E]=(0,d.useState)(0),{fields:F,append:k,remove:D}=(0,p.Dq)({control:b,name:h}),[{canDrop:C,isOver:_},I]=(0,c.L)(()=>({accept:[u.FILE],drop(e){Q&&Q(e)},canDrop:e=>!0,hover(e){w(null)},collect(e){let n=e.getItem();return n&&console.log("Drag: collect",n.files,n.items),{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),[e.name]),Q=async e=>{if(console.log("dropped",e),e.files.length>t){w("Only "+t+" files allowed"),setTimeout(e=>{w(null)},[2e3]);return}if(e.files.some(e=>!a.includes(e.type))){w("File not allowed"),setTimeout(e=>{w(null)},[2e3]);return}k(e.files)};(0,d.useEffect)(e=>{console.log(F)},[F]);let T=e=>{let{target:n}=e,{files:t}=n;console.log("files",t),k([t[0]])},z=(0,d.useRef)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:z,onChange:T,type:"file",hidden:!0,multiple:t>1,accept:a}),(0,r.jsxs)(o.Z,{onClick(){var e;return null==z?void 0:null===(e=z.current)||void 0===e?void 0:e.click()},ref:0==S?I:null,style:{...m,background:_?"lightgreen":y?"orange":m.background},justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(i.Z,{mb:2,children:g&&g.map(e=>(0,r.jsx)(s(),{src:e,alt:"Vercel Logo",width:40,height:40,style:{opacity:.7}},e))}),(0,r.jsx)(i.Z,{children:C&&_?(0,r.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:"Release to drop"}):(0,r.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:y||(0,r.jsxs)(r.Fragment,{children:["Drag & Drop your document here, or"," ",(0,r.jsx)(l.Z,{variant:"body_bold_primary",component:"span",children:"Browse"})]})})}),(0,r.jsx)(l.Z,{variant:"smallcopy_regular_muted",component:"p",children:!y&&"Upload .pdf, .doc, .xls, .jpg & etc"})]}),F.map((e,n)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{...v("".concat(h,".").concat(n)),hidden:!0},e.id),(0,r.jsx)(p.Qr,{render(e){let{field:{value:t}}=e;return(0,r.jsx)(x.Z,{file:t[n].name,handleRemove:()=>D(n),isLast:n===F.length-1})},name:"".concat(h),control:b},n)]}))]})}},19716:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(85893),o=t(42761),i=t(13970),l=t(90629);function a(e){let{...n}=e;return(0,r.jsxs)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,r.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,r.jsx)(i.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}t(67294)},32530:function(e,n,t){var r=t(85893),o=t(26447),i=t(44057),l=t(9576),a=t(76595),s=t(19716),d=t(67294),c=t(34578),u=t(88767);t(80681);var p=t(38560),x=t(39272),m=t(42019),g=t(71666);let f=e=>{var n,t;let{config:f}=e,{endpoint:v,texts:h,getAllFn:j,postFn:Z,key:b,deleteFn:y,validation:w,putFn:S,transform:E=e=>e}=f,F=(0,p.Z)(e=>e.setProgress),k=(0,c.VY)(),D=(0,u.useQueryClient)(),[C,_]=d.useState(!1),[I,Q]=(0,d.useState)(null),{isLoading:T,data:z,error:L}=(0,u.useQuery)("get"+b,()=>j(v,{page:1})),R=(0,u.useMutation)(e=>I?S(v,I,E(e),F):Z(v,E(e),F),{onSuccess(){_(!1),D.invalidateQueries("get"+b),k.success(I?"Updated":"created")},onError(e){k.error("Failed")}}),M=(0,u.useMutation)(e=>y(v,e),{onSuccess(){D.invalidateQueries("get"+b),k("Deleted"),_(!1)},onError(e){k("Failed")}}),A=e=>{_(!0),Q(e)},B=e=>{window.confirm("Do you want to delete this ? ")&&M.mutate({id:e})};return(0,d.useEffect)(e=>{C||Q(null)},[C]),(0,r.jsxs)(o.Z,{spacing:2,m:2,divider:(0,r.jsx)(l.Z,{}),children:[(0,r.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(s.Z,{sx:{flex:1}}),(0,r.jsx)(i.Z,{variant:"contained",onClick:()=>_(!0),children:null==h?void 0:h.drawerTitle}),C&&(0,r.jsx)(g.Z,{open:C,callback:_,title:I?null==h?void 0:null===(n=h.drawerTitle)||void 0===n?void 0:n.replace("Add","Update"):null==h?void 0:h.drawerTitle,children:(0,r.jsx)(a.Z,{form:f.form,edit:I?{...z.data.find(e=>e.id==I)}:null,submitData:e=>R.mutate({...e}),validationSchema:w,cancelDrawer:()=>_(!1)})})]}),(0,r.jsx)(o.Z,{sx:{rowGap:1},children:T?"Loading":null==z?void 0:null===(t=z.data)||void 0===t?void 0:t.map((e,n)=>(0,r.jsx)(m.Z,{label:(0,x.Im)(e,"**.".concat(h.key)),cb:{Edit:()=>A(e.id),Delete:()=>B(e.id)}},n))})]})};n.Z=f},19127:function(e,n,t){var r=t(85893),o=t(26447),i=t(87357),l=t(44057),a=t(9576);t(76595);var s=t(19716),d=t(67294),c=t(34578),u=t(88767);t(80681);var p=t(38560);t(39272);var x=t(71666),m=t(42390);let g=e=>{var n;let{plan:t,editData:g,clearEdit:f=()=>{},openSideMenu:v,setOpenSideMenu:h}=e,{endpoint:j,postFn:Z,key:b,putFn:y,transform:w=e=>e}=t,S=(0,p.Z)(e=>e.setProgress),E=(0,c.VY)(),F=(0,u.useQueryClient)(),k=(0,u.useMutation)(e=>g?y(j,g.id,w(e),S):Z(j,w(e),S),{onSuccess(){h(!1),F.invalidateQueries("get"+b),E.success((null==g?void 0:g.id)?"Updated":"created")},onError(e){E.error("Failed")}});return(0,d.useEffect)(e=>{g&&(console.log("Opening"),h(!0))},[g]),(0,d.useEffect)(e=>{v||f()},[v]),(0,r.jsx)(o.Z,{spacing:2,m:2,divider:(0,r.jsx)(a.Z,{}),children:(0,r.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(s.Z,{sx:{flex:1}}),(0,r.jsx)(l.Z,{variant:"contained",onClick:()=>h(!0),children:null==t?void 0:t.sideBarTitle}),v&&(0,r.jsx)(x.Z,{open:v,callback:h,title:(null==g?void 0:g.id)?null==t?void 0:null===(n=t.sideBarTitle)||void 0===n?void 0:n.replace("Add","Update"):null==t?void 0:t.sideBarTitle,children:(0,r.jsx)(i.Z,{p:2,children:(0,r.jsx)(m.Z,{plan:t,onSubmit:e=>k.mutate({...e}),formData:g})})})]})})};n.Z=g},33455:function(e,n,t){t.d(n,{e:function(){return i}});var r=t(67294),o=t(88767);let i=e=>{let n=(0,o.useQueryClient)(),{isLoading:t,data:i,error:l}=(0,o.useQuery)("get"+e.key,()=>e.getFn(e.endpoint,{page:1})),[a,s]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),u=(0,o.useMutation)(n=>e.deleteFn(e.endpoint,n),{onSuccess(){n.invalidateQueries("get"+e.key),alert("Deleted"),s(!1)},onError(e){alert("Failed")}}),p=e=>{s(!0),c(e)},x=e=>{window.confirm("Do you want to delete this ? ")&&u.mutate({id:e})};return(0,r.useEffect)(e=>{a||c(null)},[a]),{isLoading:t,response:i,openSideMenu:a,setOpenSideMenu:s,editData:d,setEditData:c,editClickCB:p,onDeleteClick:x}}}}]);