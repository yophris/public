"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3251],{42761:function(e,t,i){var a=i(64836);t.Z=void 0;var n=a(i(64938)),o=i(85893),r=(0,n.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=r},88345:function(e,t,i){i.d(t,{Z:function(){return m}});var a=i(85893),n=i(67294),o=i(68245),r=i(15861),l=i(98456),s=i(90629),d=i(13970),u=i(75503),p=i(88767),c=i(87536);function m(e){var t;let{setValue:i,reset:m,label:v,options:x=[{text:"",value:""}],name:y,error:f,isRequired:g,asyncData:b,watch:h,resetField:S,control:Z,getValues:j,...k}=e,A=(0,c.qo)({control:Z,name:null==b?void 0:b.lookup}),[C,T]=n.useState("");console.log("watchFields",y,null==b?void 0:b.lookup,A);let{isLoading:E,data:q,error:z,isSuccess:L}=(0,p.useQuery)({queryKey:["get"+(null==b?void 0:b.key),...(null==b?void 0:b.lookup)||[],A,C],queryFn:()=>b.endpointApi("function"==typeof b.endpoint?b.endpoint(A):b.endpoint,{name:C}),enabled:null==b||!b.lookup||(Array.isArray(A)?!A.some(e=>!e):!!A)}),[w,F]=n.useState(!1),[D,P]=n.useState([]),I=w&&0===D.length;return n.useEffect(()=>{let e=!0;if(I)return(async()=>{e&&P([...(null==q?void 0:q.data.map((null==b?void 0:b.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[I]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[v,g&&(0,a.jsx)(r.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,a.jsx)(o.Z,{popupIcon:E?(0,a.jsx)(l.Z,{color:"inherit",size:20}):(0,a.jsx)(u.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:w,onOpen(){F(!0)},onClose(){F(!1)},value:null===(t=j(y))||void 0===t?void 0:t.value,isOptionEqualToValue:(e,t)=>e.value===t.value,onChange:(e,t)=>i(y,t),getOptionLabel:e=>e.text,options:D,loading:E,renderOption:(e,t,i)=>(0,a.jsx)("li",{...e,children:(0,a.jsx)(r.Z,{variant:"body_medium_secondary",component:"p",children:t.text})}),onInputChange(e,t){T(t)},renderInput:e=>(0,a.jsx)(s.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,a.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,a.jsx)(n.Fragment,{children:e.InputProps.endAdornment}),...k})})})]},JSON.stringify(A))}},69745:function(e,t,i){i.d(t,{Z:function(){return p}});var a=i(85893);i(67294);var n=i(87357),o=i(15861),r=i(18360),l=i(18972),s=i(90948),d=i(13970),u=i(75503);function p(e){let{label:t,name:i,options:s,register:d,setValue:p,error:m,isRequired:v,getValues:x,watch:y,hideLabel:f=!1,...g}=e;return(0,a.jsxs)(n.Z,{sx:{width:"100%"},children:[!f&&(0,a.jsxs)(o.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[t,v&&(0,a.jsx)(o.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,a.jsxs)(r.Z,{...d&&d,...g,input:(0,a.jsx)(c,{}),IconComponent:u.Z,sx:{fontSize:"1.4rem",fontWeight:500,color:"text.secondary",width:"100%"},children:[(0,a.jsx)(l.Z,{selected:!0,sx:{fontSize:"1.4rem",color:"text.secondary",fontStyle:"italic"},value:"",children:"None"}),s.length&&s.map((e,t)=>(0,a.jsx)(l.Z,{sx:{fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},value:e.value,disabled:e.disabled,children:e.text},t))]}),(null==m?void 0:m.message)&&(0,a.jsx)(o.Z,{variant:"h6",sx:{marginLeft:"4px",color:"red"},children:m.message})]})}let c=(0,s.ZP)(d.ZP)(e=>{let{theme:t}=e;return{alignItems:"center",backgroundColor:t.palette.background.main,border:"1px solid #EFEFEF",borderRadius:t.spacing(1),display:"flex",fontSize:"1.4rem",transition:t.transitions.create(["border-color","box-shadow"]),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"},"label + &":{marginTop:t.spacing(3)},"& .MuiInputBase-input":{color:t.palette.text.secondary,padding:"".concat(t.spacing(1.25)," ").concat(t.spacing(2))},"& .MuiSvgIcon-root":{fontSize:"2rem",marginRight:2,color:t.palette.text.tertiary}}})},19716:function(e,t,i){i.d(t,{Z:function(){return l}});var a=i(85893),n=i(42761),o=i(13970),r=i(90629);function l(e){let{...t}=e;return(0,a.jsxs)(r.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,a.jsx)(n.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,a.jsx)(o.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}i(67294)},32530:function(e,t,i){var a=i(85893),n=i(26447),o=i(44057),r=i(9576),l=i(76595),s=i(19716),d=i(67294),u=i(34578),p=i(88767);i(80681);var c=i(38560),m=i(39272),v=i(42019),x=i(71666);let y=e=>{var t,i;let{config:y}=e,{endpoint:f,texts:g,getAllFn:b,postFn:h,key:S,deleteFn:Z,validation:j,putFn:k,transform:A=e=>e}=y,C=(0,c.Z)(e=>e.setProgress),T=(0,u.VY)(),E=(0,p.useQueryClient)(),[q,z]=d.useState(!1),[L,w]=(0,d.useState)(null),{isLoading:F,data:D,error:P}=(0,p.useQuery)("get"+S,()=>b(f,{page:1})),I=(0,p.useMutation)(e=>L?k(f,L,A(e),C):h(f,A(e),C),{onSuccess(){z(!1),E.invalidateQueries("get"+S),T.success(L?"Updated":"created")},onError(e){T.error("Failed")}}),N=(0,p.useMutation)(e=>Z(f,e),{onSuccess(){E.invalidateQueries("get"+S),T("Deleted"),z(!1)},onError(e){T("Failed")}}),M=e=>{z(!0),w(e)},R=e=>{window.confirm("Do you want to delete this ? ")&&N.mutate({id:e})};return(0,d.useEffect)(e=>{q||w(null)},[q]),(0,a.jsxs)(n.Z,{spacing:2,m:2,divider:(0,a.jsx)(r.Z,{}),children:[(0,a.jsxs)(n.Z,{direction:"row",spacing:3,children:[(0,a.jsx)(s.Z,{sx:{flex:1}}),(0,a.jsx)(o.Z,{variant:"contained",onClick:()=>z(!0),children:null==g?void 0:g.drawerTitle}),q&&(0,a.jsx)(x.Z,{open:q,callback:z,title:L?null==g?void 0:null===(t=g.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==g?void 0:g.drawerTitle,children:(0,a.jsx)(l.Z,{form:y.form,edit:L?{...D.data.find(e=>e.id==L)}:null,submitData:e=>I.mutate({...e}),validationSchema:j,cancelDrawer:()=>z(!1)})})]}),(0,a.jsx)(n.Z,{sx:{rowGap:1},children:F?"Loading":null==D?void 0:null===(i=D.data)||void 0===i?void 0:i.map((e,t)=>(0,a.jsx)(v.Z,{label:(0,m.Im)(e,"**.".concat(g.key)),cb:{Edit:()=>M(e.id),Delete:()=>R(e.id)}},t))})]})};t.Z=y},19127:function(e,t,i){var a=i(85893),n=i(26447),o=i(87357),r=i(44057),l=i(9576);i(76595);var s=i(19716),d=i(67294),u=i(34578),p=i(88767);i(80681);var c=i(38560);i(39272);var m=i(71666),v=i(42390);let x=e=>{var t;let{plan:i,editData:x,clearEdit:y=()=>{},openSideMenu:f,setOpenSideMenu:g}=e,{endpoint:b,postFn:h,key:S,putFn:Z,transform:j=e=>e}=i,k=(0,c.Z)(e=>e.setProgress),A=(0,u.VY)(),C=(0,p.useQueryClient)(),T=(0,p.useMutation)(e=>x?Z(b,x.id,j(e),k):h(b,j(e),k),{onSuccess(){g(!1),C.invalidateQueries("get"+S),A.success((null==x?void 0:x.id)?"Updated":"created")},onError(e){A.error("Failed")}});return(0,d.useEffect)(e=>{x&&(console.log("Opening"),g(!0))},[x]),(0,d.useEffect)(e=>{f||y()},[f]),(0,a.jsx)(n.Z,{spacing:2,m:2,divider:(0,a.jsx)(l.Z,{}),children:(0,a.jsxs)(n.Z,{direction:"row",spacing:3,children:[(0,a.jsx)(s.Z,{sx:{flex:1}}),(0,a.jsx)(r.Z,{variant:"contained",onClick:()=>g(!0),children:null==i?void 0:i.sideBarTitle}),f&&(0,a.jsx)(m.Z,{open:f,callback:g,title:(null==x?void 0:x.id)?null==i?void 0:null===(t=i.sideBarTitle)||void 0===t?void 0:t.replace("Add","Update"):null==i?void 0:i.sideBarTitle,children:(0,a.jsx)(o.Z,{p:2,children:(0,a.jsx)(v.Z,{plan:i,onSubmit:e=>T.mutate({...e}),formData:x})})})]})})};t.Z=x},43251:function(e,t,i){i.r(t),i.d(t,{addressFields:function(){return x},default:function(){return f}});var a=i(85893),n=i(19127),o=i(88345),r=i(69745),l=i(77339);i(32530);var s=i(54742),d=i(67294),u=i(88767),p=i(558),c=i(26447),m=i(42019),v=i(39272);l.Z,r.Z,r.Z;let x=[{element:l.Z,attr:{label:"Address Line 1",name:"address.addressLn1"},validation:{validationType:"string",validations:[{type:"required",params:["Address Line 1 is Required"]}]},xs:12},{element:l.Z,attr:{label:"Address Line 2",name:"address.addressLn2"},xs:12},{element:o.Z,attr:{label:"Country",name:"address.country",asyncData:{endpointApi:p.$8,endpoint:"app/valueHelp/countries",key:"countries",optionTransformation:e=>({text:e.name,value:e.code})}},validation:{validationType:"object",validations:[{type:"nullable",params:["Country is Required"]},{type:"required",params:["Country is Required"]}]},xs:6},{element:o.Z,attr:{label:"State",name:"address.state",asyncData:{endpointApi:p.$8,endpoint(e){var t;return"app/valueHelp/states/".concat((null===(t=e[0])||void 0===t?void 0:t.value)||"")},optionTransformation:e=>({text:e.name,value:e.isoCode}),lookup:["address.country"],key:"states"}},validation:{validationType:"object",validations:[{type:"required",params:["State is Required"]}]},xs:6},{element:o.Z,attr:{label:"City",name:"address.city",asyncData:{endpointApi:p.$8,endpoint(e){var t,i;return"app/valueHelp/cities/".concat((null===(t=e[0])||void 0===t?void 0:t.value)||"","/").concat((null===(i=e[1])||void 0===i?void 0:i.value)||"")},lookup:["address.country","address.state"],key:"city",optionTransformation:e=>({text:e.name,value:e.name})}},validation:{validationType:"object",validations:[{type:"required",params:["City is Required"]}]},xs:6},{element:l.Z,attr:{label:"Postal Code",name:"address.postalCode"},validation:{validationType:"string",validations:[{type:"required",params:["Postal code is Required"]}]},xs:6},{element:l.Z,attr:{label:"Phone",name:"address.phone1"},validation:{validationType:"string",validations:[{type:"required",params:["Phone number is Required"]}]},xs:6}];p.$8,p.fj,p.m7,p.WN;let y={key:"stationName",endpoint:"settings/station",sideBarTitle:"Add Station",section:{fields:[{label:"Station Name",type:"Text",id:"stationName",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Station Name"},validations:[{type:"required"}]},{label:"Is main station?",type:"Select",gridSizes:{xs:12,sm:6,md:6,lg:6},id:"isMainStation",validations:[{type:"required"}],select:{type:"inLine",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}]}},{label:"Description",type:"Text",id:"description",gridSizes:{xs:12,sm:6,md:12,lg:12},isMultiline:!0,config:{placeholder:"Description"},validations:[{type:"required"}]},{label:"Station Head",type:"Select",gridSizes:{xs:12,sm:6,md:12,lg:12},id:"stationHead",validations:[{type:"required"}],select:{type:"inLine",options:[{value:"aef9a00b-bcff-4a39-8873-3c4648645c69",label:"Emp 1"},{value:"56b0fb05-3a93-42d9-b96e-ff0f21c0df00",label:"Emp 2"},{value:"e1bab173-4482-4396-a6c7-092052963e62",label:"Emp 3"}]}},{type:"Divider"},{type:"Title",title:"Primary Address"},{label:"Address Line 1",type:"Text",id:"primary.Address.addressLn1",gridSizes:{xs:12,sm:6,md:12,lg:12},config:{placeholder:"Address Line 1"},validations:[{type:"required"}]},{label:"Address Line 2",type:"Text",id:"primary.Address.addressLn2",gridSizes:{xs:12,sm:6,md:12,lg:12},config:{placeholder:"Address Line 2"},validations:[]},{label:"Country",type:"Select",id:"primary.Address.country",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Country"},validations:[],select:{type:"api",api:"app/valueHelp/countries"}},{label:"State",type:"Select",id:"primary.Address.state",gridSizes:{xs:12,sm:6,md:6,lg:6},validations:[],select:{type:"api",api:"app/valueHelp/states/${primary.Address.country.value}"}},{label:"City",type:"Select",id:"primary.Address.city",gridSizes:{xs:12,sm:6,md:6,lg:6},validations:[],select:{type:"api",api:"app/valueHelp/cities/${primary.Address.country.value}/${primary.Address.state.value}"}},{label:"Postal Code",type:"Text",id:"primary.Address.postalCode",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Postal Code",type:"number"},validations:[{type:"required"}]},{label:"Phone",type:"PhoneNumber",id:"primary.Address.phone1",gridSizes:{xs:12,sm:6,md:6,lg:6},validations:[{type:"required",vtype:"number"},{type:"Length",length:{min:12,max:15}}]}]},postFn:p.fj,putFn:p.m7,texts:{key:"stationName",breadcrumbText:"Station",drawerTitle:"Add Station",mainTitle:"List of Stations",mainDescription:"this is short description for division",sideTitle:"Station",sideDescription:"this is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."}};function f(){var e;let t=(0,u.useQueryClient)(),{isLoading:i,data:o,error:r}=(0,u.useQuery)("get"+y.key,()=>(0,p.$8)(y.endpoint,{page:1})),[l,x]=(0,d.useState)(!1),[f,g]=(0,d.useState)(null),b=(0,u.useMutation)(e=>(0,p.WN)(y.endpoint,e),{onSuccess(){t.invalidateQueries("get"+y.key),alert("Deleted"),x(!1)},onError(e){alert("Failed")}}),h=e=>{x(!0),g(e)},S=e=>{window.confirm("Do you want to delete this ? ")&&b.mutate({id:e})};return(0,d.useEffect)(e=>{l||g(null)},[l]),(0,a.jsxs)(s.Z,{texts:y.texts,children:[(0,a.jsx)(n.Z,{plan:y,openSideMenu:l,setOpenSideMenu:x,editData:f}),(0,a.jsx)(c.Z,{sx:{rowGap:1},children:i?"Loading":null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.map((e,t)=>(0,a.jsx)(m.Z,{label:(0,v.Im)(e,"**.stationName"),cb:{Edit:()=>h(e),Delete:()=>S(e.id)}},t))})]})}}}]);