"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7096],{42761:function(e,n,t){var o=t(64836);n.Z=void 0;var r=o(t(64938)),i=t(85893),l=(0,r.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");n.Z=l},88345:function(e,n,t){t.d(n,{Z:function(){return x}});var o=t(85893),r=t(67294),i=t(68245),l=t(15861),a=t(98456),d=t(90629),s=t(13970),c=t(75503),u=t(88767),p=t(87536);function x(e){var n;let{setValue:t,reset:x,label:m,options:h=[{text:"",value:""}],name:g,error:f,isRequired:v,asyncData:b,watch:Z,resetField:j,control:y,getValues:k,...E}=e,S=(0,p.qo)({control:y,name:null==b?void 0:b.lookup}),[F,w]=r.useState("");console.log("watchFields",g,null==b?void 0:b.lookup,S);let{isLoading:C,data:_,error:z,isSuccess:A}=(0,u.useQuery)({queryKey:["get"+(null==b?void 0:b.key),...(null==b?void 0:b.lookup)||[],S,F],queryFn:()=>b.endpointApi("function"==typeof b.endpoint?b.endpoint(S):b.endpoint,{name:F}),enabled:null==b||!b.lookup||(Array.isArray(S)?!S.some(e=>!e):!!S)}),[I,T]=r.useState(!1),[O,P]=r.useState([]),D=I&&0===O.length;return r.useEffect(()=>{let e=!0;if(D)return(async()=>{e&&P([...(null==_?void 0:_.data.map((null==b?void 0:b.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[D]),(0,o.jsxs)("div",{children:[(0,o.jsxs)(l.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[m,v&&(0,o.jsx)(l.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,o.jsx)(i.Z,{popupIcon:C?(0,o.jsx)(a.Z,{color:"inherit",size:20}):(0,o.jsx)(c.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:I,onOpen(){T(!0)},onClose(){T(!1)},value:null===(n=k(g))||void 0===n?void 0:n.value,isOptionEqualToValue:(e,n)=>e.value===n.value,onChange:(e,n)=>t(g,n),getOptionLabel:e=>e.text,options:O,loading:C,renderOption:(e,n,t)=>(0,o.jsx)("li",{...e,children:(0,o.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:n.text})}),onInputChange(e,n){w(n)},renderInput:e=>(0,o.jsx)(d.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,o.jsx)(s.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,o.jsx)(r.Fragment,{children:e.InputProps.endAdornment}),...E})})})]},JSON.stringify(S))}},81720:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(85893),r=t(67294),i=t(35294),l=t(18972),a=t(15861),d=t(96301);function s(e){let{anchorEl:n,setAnchorEl:t,menuToggle:s,setSelectedType:c,isLast:u}=e,[p,x]=r.useState(""),m=(e,n)=>{x(n.key),c(n),t(null)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.Z,{anchorEl:null==n?void 0:n.current,id:"account-menu",open:s,onClose:()=>t(null),placement:"bottom-start",PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:u?"30%":"50%",width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)"}}},transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"},children:d._g.map((e,n)=>(0,o.jsx)(l.Z,{selected:e.key===p,onClick:n=>m(n,e),children:(0,o.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:e.value})},e.key))})})}},58814:function(e,n,t){t.d(n,{Z:function(){return v}});var o=t(85893),r=t(86886),i=t(15861),l=t(26447),a=t(67294),d=t(87357),s=t(69368),c=t(50480),u=t(53457),p=t(1574),x=t(96301),m=t(25675),h=t.n(m),g=t(81720);function f(e){let{setValue:n,name:t}=e,r=a.useRef(null),m=x.z1[t.split(".")[1]],[f,v]=a.useState(!1),[b,Z]=a.useState(!1),[j,y]=a.useState(""),[k,E]=a.useState(r),[S,F]=a.useState("");a.useEffect(e=>{S&&(n(t,S.key),y(S.bgColor),Z(!1))},[S]);let w=e=>{if(v(e.target.checked),Z(e.target.checked),e.target.checked)E(r);else{let o=x._g.filter(e=>"WEEKOFF"===e.key);F(o),n(t,o.key),y(o.bgColor),E(null)}};return(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(u.Z,{children:(0,o.jsx)(l.Z,{alignItems:"center",sx:{width:69,height:78,background:j,border:"1px solid #EFEFEF",borderRadius:"8px"},ref:r,children:(0,o.jsx)(c.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",margin:0},control:(0,o.jsx)(s.Z,{disableRipple:!0,checked:f,onChange:w,icon:(0,o.jsx)(p.Z,{size:23,colorVal:"#EFEFEF"}),checkedIcon:(0,o.jsx)(h(),{src:"/images/circleTickBgWhite.svg",width:24,height:24,alt:"checked"})}),label:(0,o.jsx)(i.Z,{variant:"body_medium",sx:{color:"WEEKOFF"===S.key?"text.secondary":"text.light"},component:"p",children:m})})})}),b&&k&&(0,o.jsx)(g.Z,{anchorEl:k,setAnchorEl:E,menuToggle:b,setSelectedType:F,isLast:"SAT"===m})]})}function v(e){let{setValue:n,name:t,...a}=e;return(0,o.jsxs)(r.ZP,{item:!0,sx:{paddingLeft:0,margin:0,width:"100%"},children:[(0,o.jsxs)(i.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[a.label,a.isRequired&&(0,o.jsx)(i.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,o.jsx)(l.Z,{direction:"row",spacing:1,children:a.attrs.map(e=>(0,o.jsx)(f,{name:e.name,setValue:n},e.name))})]})}},19716:function(e,n,t){t.d(n,{Z:function(){return a}});var o=t(85893),r=t(42761),i=t(13970),l=t(90629);function a(e){let{...n}=e;return(0,o.jsxs)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,o.jsx)(r.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,o.jsx)(i.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}t(67294)},32530:function(e,n,t){var o=t(85893),r=t(26447),i=t(44057),l=t(9576),a=t(76595),d=t(19716),s=t(67294),c=t(34578),u=t(88767);t(80681);var p=t(38560),x=t(39272),m=t(42019),h=t(71666);let g=e=>{var n,t;let{config:g}=e,{endpoint:f,texts:v,getAllFn:b,postFn:Z,key:j,deleteFn:y,validation:k,putFn:E,transform:S=e=>e}=g,F=(0,p.Z)(e=>e.setProgress),w=(0,c.VY)(),C=(0,u.useQueryClient)(),[_,z]=s.useState(!1),[A,I]=(0,s.useState)(null),{isLoading:T,data:O,error:P}=(0,u.useQuery)("get"+j,()=>b(f,{page:1})),D=(0,u.useMutation)(e=>A?E(f,A,S(e),F):Z(f,S(e),F),{onSuccess(){z(!1),C.invalidateQueries("get"+j),w.success(A?"Updated":"created")},onError(e){w.error("Failed")}}),L=(0,u.useMutation)(e=>y(f,e),{onSuccess(){C.invalidateQueries("get"+j),w("Deleted"),z(!1)},onError(e){w("Failed")}}),R=e=>{z(!0),I(e)},q=e=>{window.confirm("Do you want to delete this ? ")&&L.mutate({id:e})};return(0,s.useEffect)(e=>{_||I(null)},[_]),(0,o.jsxs)(r.Z,{spacing:2,m:2,divider:(0,o.jsx)(l.Z,{}),children:[(0,o.jsxs)(r.Z,{direction:"row",spacing:3,children:[(0,o.jsx)(d.Z,{sx:{flex:1}}),(0,o.jsx)(i.Z,{variant:"contained",onClick:()=>z(!0),children:null==v?void 0:v.drawerTitle}),_&&(0,o.jsx)(h.Z,{open:_,callback:z,title:A?null==v?void 0:null===(n=v.drawerTitle)||void 0===n?void 0:n.replace("Add","Update"):null==v?void 0:v.drawerTitle,children:(0,o.jsx)(a.Z,{form:g.form,edit:A?{...O.data.find(e=>e.id==A)}:null,submitData:e=>D.mutate({...e}),validationSchema:k,cancelDrawer:()=>z(!1)})})]}),(0,o.jsx)(r.Z,{sx:{rowGap:1},children:T?"Loading":null==O?void 0:null===(t=O.data)||void 0===t?void 0:t.map((e,n)=>(0,o.jsx)(m.Z,{label:(0,x.Im)(e,"**.".concat(v.key)),cb:{Edit:()=>R(e.id),Delete:()=>q(e.id)}},n))})]})};n.Z=g}}]);