"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8705],{24707:function(e,n,t){t.d(n,{_:function(){return a}});var r=t(87462),o=t(1588),i=t(34867),l=t(55827);function a(e){return(0,i.Z)("MuiFilledInput",e)}let d=(0,r.Z)({},l.Z,(0,o.Z)("MuiFilledInput",["root","underline","input"]));n.Z=d},7021:function(e,n,t){t.d(n,{l:function(){return a}});var r=t(87462),o=t(1588),i=t(34867),l=t(55827);function a(e){return(0,i.Z)("MuiInput",e)}let d=(0,r.Z)({},l.Z,(0,o.Z)("MuiInput",["root","underline","input"]));n.Z=d},54656:function(e,n,t){t.d(n,{e:function(){return a}});var r=t(87462),o=t(1588),i=t(34867),l=t(55827);function a(e){return(0,i.Z)("MuiOutlinedInput",e)}let d=(0,r.Z)({},l.Z,(0,o.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));n.Z=d},60224:function(e,n,t){t(67294);var r=t(88169),o=t(85893);n.Z=(0,r.Z)((0,o.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},88345:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(85893),o=t(67294),i=t(68245),l=t(15861),a=t(98456),d=t(90629),s=t(13970),u=t(75503),c=t(88767),p=t(87536);function x(e){var n;let{setValue:t,reset:x,label:m,options:f=[{text:"",value:""}],name:g,error:h,isRequired:Z,asyncData:y,watch:v,resetField:b,control:j,getValues:F,...k}=e,E=(0,p.qo)({control:j,name:null==y?void 0:y.lookup}),[w,C]=o.useState("");console.log("watchFields",g,null==y?void 0:y.lookup,E);let{isLoading:S,data:_,error:D,isSuccess:I}=(0,c.useQuery)({queryKey:["get"+(null==y?void 0:y.key),...(null==y?void 0:y.lookup)||[],E,w],queryFn:()=>y.endpointApi("function"==typeof y.endpoint?y.endpoint(E):y.endpoint,{name:w}),enabled:null==y||!y.lookup||(Array.isArray(E)?!E.some(e=>!e):!!E)}),[W,O]=o.useState(!1),[M,R]=o.useState([]),T=W&&0===M.length;return o.useEffect(()=>{let e=!0;if(T)return(async()=>{e&&R([...(null==_?void 0:_.data.map((null==y?void 0:y.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[T]),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[m,Z&&(0,r.jsx)(l.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,r.jsx)(i.Z,{popupIcon:S?(0,r.jsx)(a.Z,{color:"inherit",size:20}):(0,r.jsx)(u.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:W,onOpen(){O(!0)},onClose(){O(!1)},value:null===(n=F(g))||void 0===n?void 0:n.value,isOptionEqualToValue:(e,n)=>e.value===n.value,onChange:(e,n)=>t(g,n),getOptionLabel:e=>e.text,options:M,loading:S,renderOption:(e,n,t)=>(0,r.jsx)("li",{...e,children:(0,r.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:n.text})}),onInputChange(e,n){C(n)},renderInput:e=>(0,r.jsx)(d.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,r.jsx)(s.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,r.jsx)(o.Fragment,{children:e.InputProps.endAdornment}),...k})})})]},JSON.stringify(E))}},81720:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(85893),o=t(67294),i=t(35294),l=t(18972),a=t(15861),d=t(96301);function s(e){let{anchorEl:n,setAnchorEl:t,menuToggle:s,setSelectedType:u,isLast:c}=e,[p,x]=o.useState(""),m=(e,n)=>{x(n.key),u(n),t(null)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{anchorEl:null==n?void 0:n.current,id:"account-menu",open:s,onClose:()=>t(null),placement:"bottom-start",PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:c?"30%":"50%",width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)"}}},transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"},children:d._g.map((e,n)=>(0,r.jsx)(l.Z,{selected:e.key===p,onClick:n=>m(n,e),children:(0,r.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:e.value})},e.key))})})}},56450:function(e,n,t){t.d(n,{Z:function(){return W}});var r=t(85893),o=t(86886),i=t(15861),l=t(26447),a=t(67294),d=t(87357),s=t(69368),u=t(50480),c=t(63366),p=t(87462),x=t(86010),m=t(94780),f=t(90948),g=t(71657),h=t(1588),Z=t(34867);function y(e){return(0,Z.Z)("MuiFormGroup",e)}(0,h.Z)("MuiFormGroup",["root","row","error"]);var v=t(74423),b=t(15704);let j=["className","row"],F=e=>{let{classes:n,row:t,error:r}=e;return(0,m.Z)({root:["root",t&&"row",r&&"error"]},y,n)},k=(0,f.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver(e,n){let{ownerState:t}=e;return[n.root,t.row&&n.row]}})(({ownerState:e})=>(0,p.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),E=a.forwardRef(function(e,n){let t=(0,g.Z)({props:e,name:"MuiFormGroup"}),{className:o,row:i=!1}=t,l=(0,c.Z)(t,j),a=(0,v.Z)(),d=(0,b.Z)({props:t,muiFormControl:a,states:["error"]}),s=(0,p.Z)({},t,{row:i,error:d.error}),u=F(s);return(0,r.jsx)(k,(0,p.Z)({className:(0,x.Z)(u.root,o),ownerState:s,ref:n},l))});var w=t(1574),C=t(96301),S=t(25675),_=t.n(S),D=t(81720);function I(e){let{setValue:n,name:t}=e,o=a.useRef(null),c=C.z1[t.split(".")[1]],[p,x]=a.useState(!1),[m,f]=a.useState(!1),[g,h]=a.useState(""),[Z,y]=a.useState(o),[v,b]=a.useState("");a.useEffect(e=>{v&&(n(t,v.key),h(v.bgColor),f(!1))},[v]);let j=e=>{if(x(e.target.checked),f(e.target.checked),e.target.checked)y(o);else{let r=C._g.filter(e=>"WEEKOFF"===e.key);b(r),n(t,r.key),h(r.bgColor),y(null)}};return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(E,{children:(0,r.jsx)(l.Z,{alignItems:"center",sx:{width:69,height:78,background:g,border:"1px solid #EFEFEF",borderRadius:"8px"},ref:o,children:(0,r.jsx)(u.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",margin:0},control:(0,r.jsx)(s.Z,{disableRipple:!0,checked:p,onChange:j,icon:(0,r.jsx)(w.Z,{size:23,colorVal:"#EFEFEF"}),checkedIcon:(0,r.jsx)(_(),{src:"/images/circleTickBgWhite.svg",width:24,height:24,alt:"checked"})}),label:(0,r.jsx)(i.Z,{variant:"body_medium",sx:{color:"WEEKOFF"===v.key?"text.secondary":"text.light"},component:"p",children:c})})})}),m&&Z&&(0,r.jsx)(D.Z,{anchorEl:Z,setAnchorEl:y,menuToggle:m,setSelectedType:b,isLast:"SAT"===c})]})}function W(e){let{setValue:n,name:t,...a}=e;return(0,r.jsxs)(o.ZP,{item:!0,sx:{paddingLeft:0,margin:0,width:"100%"},children:[(0,r.jsxs)(i.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[a.label,a.isRequired&&(0,r.jsx)(i.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,r.jsx)(l.Z,{direction:"row",spacing:1,children:a.attrs.map(e=>(0,r.jsx)(I,{name:e.name,setValue:n},e.name))})]})}},19716:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(85893),o=t(42761),i=t(13970),l=t(90629);function a(e){let{...n}=e;return(0,r.jsxs)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,r.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,r.jsx)(i.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}t(67294)},44889:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(85893),o=t(26447),i=t(44057),l=t(9576),a=t(76595),d=t(19716),s=t(67294),u=t(34578),c=t(88767);t(80681);var p=t(38560),x=t(39272),m=t(15861),f=t(87357),g=t(93946),h=t(35294),Z=t(18972),y=t(57976),v=t(75071),b=t(41733),j=t(25675),F=t.n(j),k=t(1574);let E=["Edit","Delete"];function w(e){let{label:n="",cb:t={}}=e,[i,l]=s.useState(null),a=Boolean(i),d=e=>{l(e.currentTarget)},u=()=>{l(null)},c=e=>{let n=t[e];n&&(n(),u())};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{border:"1px solid #E4E7EB",borderRadius:1,padding:2},children:[(0,r.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,r.jsx)(F(),{src:"/images/starYellow.svg",width:20,height:20,alt:"favourite"}),(0,r.jsx)(k.Z,{size:18,colorVal:"#46C0C0"}),(0,r.jsx)(m.Z,{variant:"h3_medium_secondary",component:"h3",children:n})]}),(0,r.jsx)(o.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(g.Z,{"aria-label":"more",id:"long-button","aria-controls":a?"long-menu":void 0,"aria-expanded":a?"true":void 0,"aria-haspopup":"true",onClick:d,children:(0,r.jsx)(y.Z,{sx:{color:"text.secondary",fontSize:"2rem"}})}),(0,r.jsx)(h.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:i,open:a,onClose:u,PaperProps:{style:{maxHeight:216,width:"auto"}},children:E.map(e=>(0,r.jsxs)(Z.Z,{selected:"Pyxis"===e,onClick:()=>c(e),children:[(0,r.jsx)(m.Z,{mr:1,variant:"body_medium_tertiary",component:"p",children:"Delete"===e?(0,r.jsx)(b.Z,{sx:{color:"#F53E40"}}):(0,r.jsx)(v.Z,{})}),(0,r.jsx)(m.Z,{sx:{color:"Delete"===e&&"#F53E40"},variant:"body_medium_tertiary",component:"p",children:e})]},e))})]})})]})})}var C=t(71666);let S=e=>{var n,t;let{config:m}=e,{endpoint:f,texts:g,getAllFn:h,postFn:Z,key:y,deleteFn:v,validation:b,putFn:j,transform:F=e=>e}=m,k=(0,p.Z)(e=>e.setProgress),E=(0,u.VY)(),S=(0,c.useQueryClient)(),[_,D]=s.useState(!1),[I,W]=(0,s.useState)(null),{isLoading:O,data:M,error:R}=(0,c.useQuery)("get"+y,()=>h(f,{page:1})),T=(0,c.useMutation)(e=>I?j(f,I,F(e),k):Z(f,F(e),k),{onSuccess(){D(!1),S.invalidateQueries("get"+y),E.success(I?"Updated":"created")},onError(e){E.error("Failed")}}),z=(0,c.useMutation)(e=>v(f,e),{onSuccess(){S.invalidateQueries("get"+y),E("Deleted"),D(!1)},onError(e){E("Failed")}}),P=e=>{D(!0),W(e)},A=e=>{window.confirm("Do you want to delete this ? ")&&z.mutate({id:e})};return(0,s.useEffect)(e=>{_||W(null)},[_]),(0,r.jsxs)(o.Z,{spacing:2,m:2,divider:(0,r.jsx)(l.Z,{}),children:[(0,r.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(d.Z,{sx:{flex:1}}),(0,r.jsx)(i.Z,{variant:"contained",onClick:()=>D(!0),children:null==g?void 0:g.drawerTitle}),_&&(0,r.jsx)(C.Z,{open:_,callback:D,title:I?null==g?void 0:null===(n=g.drawerTitle)||void 0===n?void 0:n.replace("Add","Update"):null==g?void 0:g.drawerTitle,children:(0,r.jsx)(a.Z,{form:m.form,edit:I?{...M.data.find(e=>e.id==I)}:null,submitData:e=>T.mutate({...e}),validationSchema:b,cancelDrawer:()=>D(!1)})})]}),(0,r.jsx)(o.Z,{sx:{rowGap:1},children:O?"Loading":null==M?void 0:null===(t=M.data)||void 0===t?void 0:t.map((e,n)=>(0,r.jsx)(w,{label:(0,x.I)(e,"**.".concat(g.key)),cb:{Edit:()=>P(e.id),Delete:()=>A(e.id)}},n))})]})};var _=S},96301:function(e,n,t){t.d(n,{ZF:function(){return i},_g:function(){return r},z1:function(){return o}});let r=[{key:"D_FWD",value:"Full Working Day",bgColor:"#4586FF"},{key:"D_FHWD",value:"Only First Half Working Day",bgColor:"linear-gradient(to right, #4586FF 50%, #8CB4FF 50%)"},{key:"D_SHWD",value:"Only Second Half Working Day",bgColor:"linear-gradient(to left, #4586FF 50%, #8CB4FF 50%)"},{key:"R_FWD",value:"Remote: Full Working Day",bgColor:"#a0d433"},{key:"R_FHWD",value:"Remote: Only First Half Working Day",bgColor:"linear-gradient(to right, #a0d433 50%, #a0d4336e 50%)"},{key:"R_SHWD",value:"Remote: Only Second Half Working Day",bgColor:"linear-gradient(to left, #a0d433 50%, #a0d4336e 50%)"},{key:"WEEKOFF",value:"Weekoff",bgColor:"#EFEFEF"}],o={sunday:"SUN",monday:"MON",tuesday:"TUE",wednesday:"WED",thursday:"THU",friday:"FRI",saturday:"SAT"},i={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"}}}]);