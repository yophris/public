"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2500],{52778:function(e,t,n){var r=n(64836);t.Z=void 0;var l=r(n(64938)),i=n(85893),a=(0,l.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.Z=a},87689:function(e,t,n){n.d(t,{Z:function(){return T}});var r=n(85893),l=n(26447),i=n(87357),a=n(15861),o=n(25675),s=n.n(o),c=n(67294),d=n(99272),u=n(1746),m=n(87536),p=n(78462),x=n(97212),g=n(59334),h=n(63366),f=n(87462),v=n(86010),Z=n(94780),j=n(59773),y=n(90948),b=n(71657),I=n(1588),w=n(34867);function F(e){return(0,w.Z)("MuiListItemAvatar",e)}(0,I.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);let D=["className"],k=e=>{let{alignItems:t,classes:n}=e;return(0,Z.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},F,n)},S=(0,y.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver(e,t){let{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(({ownerState:e})=>(0,f.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})),_=c.forwardRef(function(e,t){let n=(0,b.Z)({props:e,name:"MuiListItemAvatar"}),{className:l}=n,i=(0,h.Z)(n,D),a=c.useContext(j.Z),o=(0,f.Z)({},n,{alignItems:a.alignItems}),s=k(o);return(0,r.jsx)(S,(0,f.Z)({className:(0,v.Z)(s.root,l),ownerState:o,ref:t},i))});var C=n(52778),E=n(9576),L=n(48885);function M(e){let{file:t,handleRemove:n,isLast:l}=e;return(0,r.jsxs)(p.Z,{alignItems:"center",justifyContent:"center",sx:{width:"100%",bgcolor:"background.paper",padding:0},children:[(0,r.jsxs)(x.ZP,{sx:{px:0},alignItems:"center",children:[(0,r.jsx)(_,{children:(0,r.jsx)(s(),{alt:"file image",src:"/images/pdfIcon.svg",width:36,height:36})}),(0,r.jsx)(g.Z,{primary:(0,r.jsx)(a.Z,{component:"p",variant:"body_medium_primary",children:t}),secondary:(0,r.jsx)(a.Z,{component:"p",variant:"smallcopy_regular_muted",children:"Document - 2.21 MB - .PDF"})}),(0,r.jsx)(L.Z,{onClick:n,sx:{minWidth:0,cursor:"pointer"},children:(0,r.jsx)(C.Z,{sx:{fontSize:"2rem"}})})]}),!l&&(0,r.jsx)(E.Z,{borderColor:"#F0F0F0"})]})}n(88767),n(80681),n(38560);let A={height:"155px",border:"2px dashed #BDCEDD",background:"#FAFAFA",borderRadius:"8px"},R=["/images/pdfIcon.svg","/images/jpgIcon.svg","/images/docIcon.svg","/images/xlsIcon.svg"];function T(e){let{label:t,limit:n,type:o,bucket:p,register:x,name:g,error:h,isRequired:f,control:v}=e,[Z,j]=(0,c.useState)(null),[y,b]=(0,c.useState)(0),{fields:I,append:w,remove:F}=(0,m.Dq)({control:v,name:g}),[{canDrop:D,isOver:k},S]=(0,d.L)(()=>({accept:[u.FILE],drop(e){_&&_(e)},canDrop:e=>!0,hover(e){j(null)},collect(e){let t=e.getItem();return t&&console.log("Drag: collect",t.files,t.items),{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),[e.name]),_=async e=>{if(console.log("dropped",e),e.files.length>n){j("Only "+n+" files allowed"),setTimeout(e=>{j(null)},[2e3]);return}if(e.files.some(e=>!o.includes(e.type))){j("File not allowed"),setTimeout(e=>{j(null)},[2e3]);return}w(e.files)};(0,c.useEffect)(e=>{console.log(I)},[I]);let C=e=>{let{target:t}=e,{files:n}=t;console.log("files",n),w([n[0]])},E=(0,c.useRef)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:E,onChange:C,type:"file",hidden:!0,multiple:n>1,accept:o}),(0,r.jsxs)(l.Z,{onClick(){var e;return null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.click()},ref:0==y?S:null,style:{...A,background:k?"lightgreen":Z?"orange":A.background},justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(i.Z,{mb:2,children:R&&R.map(e=>(0,r.jsx)(s(),{src:e,alt:"Vercel Logo",width:40,height:40,style:{opacity:.7}},e))}),(0,r.jsx)(i.Z,{children:D&&k?(0,r.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:"Release to drop"}):(0,r.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:Z||(0,r.jsxs)(r.Fragment,{children:["Drag & Drop your document here, or"," ",(0,r.jsx)(a.Z,{variant:"body_bold_primary",component:"span",children:"Browse"})]})})}),(0,r.jsx)(a.Z,{variant:"smallcopy_regular_muted",component:"p",children:!Z&&"Upload .pdf, .doc, .xls, .jpg & etc"})]}),I.map((e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{...x("".concat(g,".").concat(t)),hidden:!0},e.id),(0,r.jsx)(m.Qr,{render(e){let{field:{value:n}}=e;return(0,r.jsx)(M,{file:n[t].name,handleRemove:()=>F(t),isLast:t===I.length-1})},name:"".concat(g),control:v},t)]}))]})}},19716:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(85893),l=n(42761),i=n(13970),a=n(90629);function o(e){let{...t}=e;return(0,r.jsxs)(a.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,r.jsx)(l.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,r.jsx)(i.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}n(67294)},32530:function(e,t,n){var r=n(85893),l=n(26447),i=n(44057),a=n(9576),o=n(76595),s=n(19716),c=n(67294),d=n(34578),u=n(88767);n(80681);var m=n(38560),p=n(39272),x=n(42019),g=n(71666);let h=e=>{var t,n;let{config:h}=e,{endpoint:f,texts:v,getAllFn:Z,postFn:j,key:y,deleteFn:b,validation:I,putFn:w,transform:F=e=>e}=h,D=(0,m.Z)(e=>e.setProgress),k=(0,d.VY)(),S=(0,u.useQueryClient)(),[_,C]=c.useState(!1),[E,L]=(0,c.useState)(null),{isLoading:M,data:A,error:R}=(0,u.useQuery)("get"+y,()=>Z(f,{page:1})),T=(0,u.useMutation)(e=>E?w(f,E,F(e),D):j(f,F(e),D),{onSuccess(){C(!1),S.invalidateQueries("get"+y),k.success(E?"Updated":"created")},onError(e){k.error("Failed")}}),z=(0,u.useMutation)(e=>b(f,e),{onSuccess(){S.invalidateQueries("get"+y),k("Deleted"),C(!1)},onError(e){k("Failed")}}),P=e=>{C(!0),L(e)},O=e=>{window.confirm("Do you want to delete this ? ")&&z.mutate({id:e})};return(0,c.useEffect)(e=>{_||L(null)},[_]),(0,r.jsxs)(l.Z,{spacing:2,m:2,divider:(0,r.jsx)(a.Z,{}),children:[(0,r.jsxs)(l.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(s.Z,{sx:{flex:1}}),(0,r.jsx)(i.Z,{variant:"contained",onClick:()=>C(!0),children:null==v?void 0:v.drawerTitle}),_&&(0,r.jsx)(g.Z,{open:_,callback:C,title:E?null==v?void 0:null===(t=v.drawerTitle)||void 0===t?void 0:t.replace("Add","Update"):null==v?void 0:v.drawerTitle,children:(0,r.jsx)(o.Z,{form:h.form,edit:E?{...A.data.find(e=>e.id==E)}:null,submitData:e=>T.mutate({...e}),validationSchema:I,cancelDrawer:()=>C(!1)})})]}),(0,r.jsx)(l.Z,{sx:{rowGap:1},children:M?"Loading":null==A?void 0:null===(n=A.data)||void 0===n?void 0:n.map((e,t)=>(0,r.jsx)(x.Z,{label:(0,p.I)(e,"**.".concat(v.key)),cb:{Edit:()=>P(e.id),Delete:()=>O(e.id)}},t))})]})};t.Z=h}}]);