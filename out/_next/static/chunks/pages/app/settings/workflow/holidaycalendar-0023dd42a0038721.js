(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{20213:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/settings/workflow/holidaycalendar",function(){return t(40464)}])},40464:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return K}});var a=t(85893),r=t(26447),n=t(11496),o=t(7906),l=t(295),s=t(98102),d=t(89755),c=t(72882),u=t(53184),h=t(68509),p=t(25675),m=t.n(p),x=t(15861),f=t(69368),y=t(93946);let g=(0,n.ZP)(s.Z)(e=>{let{theme:i}=e;return{["&.".concat(d.Z.head)]:{backgroundColor:"#F7F9FB",color:i.palette.text.secondary,fontSize:"1.4rem",fontWeight:500,border:0},["&.".concat(d.Z.body)]:{fontSize:14}}}),b=(0,n.ZP)(h.Z)(e=>{let{theme:i}=e;return{alignItems:"flex-start","& .MuiTableCell-root":{fontSize:"1.6rem",color:i.palette.text.secondary,fontWeight:500},"&:last-child td, &:last-child th":{border:0}}});function j(e,i,t){return{name:e,date:i,isOptional:t}}let v=[j("New Year Day","Jan 1, 2022 (Sun)",!1),j("National Holiday","Sep 1, 2022 (Sat)",!0)];function Z(e){let{data:i}=e;return(0,a.jsx)(c.Z,{children:(0,a.jsxs)(o.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,a.jsx)(u.Z,{children:(0,a.jsxs)(h.Z,{children:[(0,a.jsx)(g,{children:"Holiday Name"}),(0,a.jsx)(g,{align:"left",children:"Date"}),(0,a.jsx)(g,{align:"left",children:"Mark as optional"}),(0,a.jsx)(g,{align:"left"})]})}),(0,a.jsx)(l.Z,{children:v.map(e=>(0,a.jsxs)(b,{children:[(0,a.jsx)(g,{component:"th",scope:"row",children:e.name}),(0,a.jsxs)(g,{align:"left",children:[e.date.split("(")[0],(0,a.jsxs)(x.Z,{variant:"body_medium_muted",component:"p",children:["(",e.date.split("(")[1]]})]}),(0,a.jsx)(g,{align:"left",children:(0,a.jsx)(f.Z,{size:"large",sx:{p:0,"& .MuiSvgIcon-root":{fontSize:"2rem"}},checked:e.isOptional})}),(0,a.jsx)(g,{align:"left",children:(0,a.jsx)(y.Z,{children:(0,a.jsx)(m(),{src:"/images/trashIcon.svg",width:14,height:14,alt:"checked"})})})]},e.name))})]})})}t(88345);var w=t(67294),k=t(13970),S=t(90629),F=t(9576);function C(e){let{val:i,handleClick:t,...r}=e,{label:n,register:o,name:l,setValue:s,watch:d,error:c,isRequired:u,isMultiline:h}=r;return w.useEffect(e=>{let i=d(l);i&&s(l,i)},[d(l)]),console.log(i,"lklk"),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[n,u&&(0,a.jsx)(x.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,a.jsxs)(S.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,width:"169px"},children:[(0,a.jsx)(y.Z,{onClick:()=>t("subtract"),sx:{p:"10px 20px"},disableRipple:!0,children:(0,a.jsx)(m(),{src:"/images/minusIcon.svg",width:8,height:8,alt:"info"})}),(0,a.jsx)(F.Z,{direction:"vertical"}),(0,a.jsx)(k.ZP,{sx:{mx:1,my:1.4,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary","& .MuiInputBase-input":{p:0,textAlign:"center"}},readOnly:!0,value:i}),(0,a.jsx)(F.Z,{direction:"vertical"}),(0,a.jsx)(y.Z,{onClick:()=>t("add"),sx:{p:"10px 20px"},disableRipple:!0,children:(0,a.jsx)(m(),{src:"/images/plusIcon.svg",width:8,height:8,alt:"info"})})]}),(null==c?void 0:c.message)&&(0,a.jsx)(x.Z,{variant:"h6",sx:{marginLeft:"4px",color:"red"},children:c.message})]})}t(96486);var M=t(62474),_=t(75916),H=t(58880),N=t(52359);t(30381);var P=t(68239),T=t(71927);let I=(0,P.Z)({components:{MuiFormControl:{styleOverrides:{root:{backgroundColor:"#F8FAFC",border:"1px solid #EFEFEF",borderRadius:"8px","& .MuiOutlinedInput-notchedOutline":{border:0}}}},MuiTypography:{styleOverrides:{root:{fontSize:"1.4rem"}}},MuiPickersDay:{styleOverrides:{root:{fontSize:"1.4rem"}}},MuiSvgIcon:{styleOverrides:{root:{fontSize:"2rem"}}},MuiYearPicker:{styleOverrides:{root:{yearButton:{fontFamily:"Poppins,sans-serif",fontSize:"1.4rem"}}}},PrivatePickersYear:{styleOverrides:{root:{yearButton:{fontFamily:"Poppins,sans-serif",fontSize:"1.4rem"}}}},MuiPickersCalendarHeader:{styleOverrides:{label:{fontFamily:"Poppins,sans-serif",fontSize:"1.4rem"},switchViewButton:{fontSize:"2.4rem"}}}}});function z(e){let{name:i,label:t,register:r,isRequired:n,...o}=e;return(0,a.jsx)(N._,{dateAdapter:_.Z,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[t,n&&(0,a.jsx)(x.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,a.jsx)(T.Z,{theme:I,children:(0,a.jsx)(H.$,{...r&&r,...o,InputAdornmentProps:(0,a.jsx)(m(),{src:"/images/plusIcon.svg",width:8,height:8,alt:"info"}),sx:{"& .MuiTypography-root-MuiDayPicker-weekDayLabel":{fontSize:"2rem"}},inputFormat:"MM-DD-YYYY",renderInput:e=>(0,a.jsx)(M.Z,{sx:{width:"100%","& .MuiInputBase-root":{fontFamily:"Poppins,sans-serif",fontSize:"1.4rem",color:"#333",fontWeight:500,"& .MuiInputBase-input":{padding:1.5}},"& .MuiSvgIcon-root":{fontSize:"1.8rem"}},...e})})})]})})}var A=t(69745),E=t(76595),D=t(45843);function O(e){let{label:i,toggle:t,setToggle:n}=e;return(0,a.jsxs)(r.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,a.jsx)(B,{checked:t,onChange:()=>n(!t)}),(0,a.jsx)(x.Z,{variant:"h3_medium_secondary",component:"p",children:i}),(0,a.jsx)(m(),{src:"/images/infoIcon.svg",width:15,height:15,alt:"info"})]})}let B=(0,n.ZP)(D.Z)(e=>{let{theme:i}=e;return{width:38,height:23,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(14px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===i.palette.mode?"#177ddc":"#1890ff"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:19,height:19,borderRadius:"50%",transition:i.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:11.5,opacity:1,backgroundColor:"dark"===i.palette.mode?"rgba(255,255,255,.35)":"rgba(0,0,0,.25)",boxSizing:"border-box"}}});var R=t(77339),Y=t(86886),L=t(87357),W=t(44057),q=t(54742),X=t(34578),Q=t(88767),$=t(558);t(90022);let U=[{element:R.Z,attr:{label:"Holiday Calendar Name",name:"holiday.holidayName"},validation:{validationType:"string",validations:[{type:"required",params:["Holiday Name is Required"]}]},xs:8},{element:function(e){var i;let{setValue:t,watch:n,name:o}=e,[l,s]=w.useState(1),[d,c]=w.useState(!1),u=e=>{"add"===e?s(l+1):s(e=>1===e?1:l-1)};return w.useEffect(()=>{d?t(o,l):t(o,null)},[d,l]),(0,a.jsxs)(r.Z,{spacing:1.5,children:[(0,a.jsx)(O,{label:e.switchLabel,toggle:d,setToggle:c}),d&&(0,a.jsx)(C,{val:l,handleClick:u,...e}),(null===(i=e.error)||void 0===i?void 0:i.message)&&(0,a.jsx)(x.Z,{variant:"h6",sx:{marginLeft:"4px",color:"red"},children:error.message})]})},attr:{switchLabel:"Allow Optional Holidays",label:"Number of Opetional holidays that can be availed",name:"holiday.optionalHolidayNu"},xs:12}],V=[{element:A.Z,attr:{label:"Country",name:"holidayTemplate.country",options:[{text:"UAE",value:"uae"},{text:"India",value:"ind"}]},xs:6},{element:A.Z,attr:{label:"Year",name:"holidayTemplate.year",options:[{text:"2019",value:"2019"},{text:"2020",value:"2020"},{text:"2021",value:"2021"},{text:"2022",value:"2022"}]},xs:6}],J={key:"holiday",form:[{header:"",fields:U},{header:"Holiday List",subHeader:"To add a pre-defined holiday, Add from templete on right side or Add Custom Holiday",fields:[{element:function(e){let{label:i,register:t,name:r,error:n,isRequired:o,isMultiline:l}=e;return(0,a.jsxs)(Y.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(Y.ZP,{item:!0,xs:4,children:(0,a.jsx)(R.Z,{...e})}),(0,a.jsx)(Y.ZP,{item:!0,xs:4,children:(0,a.jsx)(z,{...e,label:"Choose Date(s)"})}),(0,a.jsx)(Y.ZP,{item:!0,xs:4,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(L.Z,{sx:{height:"20px",marginBottom:1}}),(0,a.jsx)(W.Z,{styleOverrides:{fontSize:"1.6rem",height:"44px",width:"auto",padding:"10px 30px",borderRadius:"5px",borderColor:"#377DFF"},variant:"outlined",children:"+ Add"})]})}),(0,a.jsx)(Y.ZP,{item:!0,mt:2,xs:12,children:(0,a.jsx)(Z,{})})]})},attr:{label:"Holiday Calendar Name",name:"holiday.holidayName"},validation:{validationType:"string",validations:[{type:"required",params:["Holiday Name is Required"]}]},xs:12}]}],endpoint:"settings/holiday",texts:{title:"Holiday",key:"holidayName",breadcrumbText:"Holiday",drawerTitle:"Add Holiday",mainTitle:"Add New Holiday Calendar",mainDescription:"It is short description for holiday",sideTitle:"Add Holiday from templates",sideDescription:"This is india public holidays"},getAllFn:$.$8,postFn:$.fj,putFn:$.m7,deleteFn:$.WN},G={key:"holiday",form:[{header:"",fields:V}],endpoint:"settings/holiday",texts:{title:"Holiday",key:"holidayName",breadcrumbText:"Holiday",drawerTitle:"Add Holiday",mainTitle:"Add New Holiday Calendar",mainDescription:"It is short description for holiday",sideTitle:"Add Holiday from templates",sideDescription:"This is india public holidays"},getAllFn:$.$8,postFn:$.fj,putFn:$.m7,deleteFn:$.WN};function K(){let e=(0,Q.useQueryClient)(),i=(0,X.VY)(),{isLoading:t,data:r,error:n}=(0,Q.useQuery)("get"+J.key,()=>J.getAllFn(J.endpoint)),o=(0,Q.useMutation)(e=>J.postFn(J.endpoint,e),{onSuccess(){e.invalidateQueries("get"+J.key),i.success((null==r?void 0:r.data)?"Updated":"Company Created")},onError(e){i.error("Failed")}});return(0,a.jsx)(q.Z,{texts:J.texts,SideChildren:ee,children:(0,a.jsx)(E.Z,{form:J.form,submitData:e=>(console.log("first",e),o.mutate({...e})),edit:!1,cancelDrawer:null})})}let ee=()=>(0,a.jsxs)(r.Z,{spacing:3,children:[(0,a.jsx)(E.Z,{form:G.form,cancelDrawer:null,showButtons:!1,padding:0}),(0,a.jsx)(Z,{})]})}},function(e){e.O(0,[662,552,885,675,839,371,676,733,578,83,22,774,888,179],function(){return e(e.s=20213)}),_N_E=e.O()}]);