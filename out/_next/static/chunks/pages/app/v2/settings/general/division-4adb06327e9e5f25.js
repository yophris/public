(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8132],{42761:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),s=n(85893),l=(0,o.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");i.Z=l},14545:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/v2/settings/general/division",function(){return n(80581)}])},88345:function(e,i,n){"use strict";n.d(i,{Z:function(){return m}});var t=n(85893),o=n(67294),s=n(68245),l=n(15861),r=n(98456),a=n(90629),d=n(13970),u=n(75503),c=n(88767),p=n(87536);function m(e){var i;let{setValue:n,reset:m,label:v,options:x=[{text:"",value:""}],name:f,error:g,isRequired:h,asyncData:y,watch:j,resetField:Z,control:b,getValues:D,...k}=e,T=(0,p.qo)({control:b,name:null==y?void 0:y.lookup}),[w,S]=o.useState("");console.log("watchFields",f,null==y?void 0:y.lookup,T);let{isLoading:E,data:_,error:C,isSuccess:F}=(0,c.useQuery)({queryKey:["get"+(null==y?void 0:y.key),...(null==y?void 0:y.lookup)||[],T,w],queryFn:()=>y.endpointApi("function"==typeof y.endpoint?y.endpoint(T):y.endpoint,{name:w}),enabled:null==y||!y.lookup||(Array.isArray(T)?!T.some(e=>!e):!!T)}),[z,A]=o.useState(!1),[N,P]=o.useState([]),q=z&&0===N.length;return o.useEffect(()=>{let e=!0;if(q)return(async()=>{e&&P([...(null==_?void 0:_.data.map((null==y?void 0:y.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[q]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[v,h&&(0,t.jsx)(l.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,t.jsx)(s.Z,{popupIcon:E?(0,t.jsx)(r.Z,{color:"inherit",size:20}):(0,t.jsx)(u.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:z,onOpen(){A(!0)},onClose(){A(!1)},value:null===(i=D(f))||void 0===i?void 0:i.value,isOptionEqualToValue:(e,i)=>e.value===i.value,onChange:(e,i)=>n(f,i),getOptionLabel:e=>e.text,options:N,loading:E,renderOption:(e,i,n)=>(0,t.jsx)("li",{...e,children:(0,t.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:i.text})}),onInputChange(e,i){S(i)},renderInput:e=>(0,t.jsx)(a.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,t.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,t.jsx)(o.Fragment,{children:e.InputProps.endAdornment}),...k})})})]},JSON.stringify(T))}},19716:function(e,i,n){"use strict";n.d(i,{Z:function(){return r}});var t=n(85893),o=n(42761),s=n(13970),l=n(90629);function r(e){let{...i}=e;return(0,t.jsxs)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,t.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,t.jsx)(s.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}n(67294)},44889:function(e,i,n){"use strict";n.d(i,{Z:function(){return _}});var t=n(85893),o=n(26447),s=n(44057),l=n(9576),r=n(76595),a=n(19716),d=n(67294),u=n(34578),c=n(88767);n(80681);var p=n(38560),m=n(39272),v=n(15861),x=n(87357),f=n(93946),g=n(35294),h=n(18972),y=n(57976),j=n(75071),Z=n(41733),b=n(25675),D=n.n(b),k=n(1574);let T=["Edit","Delete"];function w(e){let{label:i="",cb:n={}}=e,[s,l]=d.useState(null),r=Boolean(s),a=e=>{l(e.currentTarget)},u=()=>{l(null)},c=e=>{let i=n[e];i&&(i(),u())};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{border:"1px solid #E4E7EB",borderRadius:1,padding:2},children:[(0,t.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,t.jsx)(D(),{src:"/images/starYellow.svg",width:20,height:20,alt:"favourite"}),(0,t.jsx)(k.Z,{size:18,colorVal:"#46C0C0"}),(0,t.jsx)(v.Z,{variant:"h3_medium_secondary",component:"h3",children:i})]}),(0,t.jsx)(o.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(f.Z,{"aria-label":"more",id:"long-button","aria-controls":r?"long-menu":void 0,"aria-expanded":r?"true":void 0,"aria-haspopup":"true",onClick:a,children:(0,t.jsx)(y.Z,{sx:{color:"text.secondary",fontSize:"2rem"}})}),(0,t.jsx)(g.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:s,open:r,onClose:u,PaperProps:{style:{maxHeight:216,width:"auto"}},children:T.map(e=>(0,t.jsxs)(h.Z,{selected:"Pyxis"===e,onClick:()=>c(e),children:[(0,t.jsx)(v.Z,{mr:1,variant:"body_medium_tertiary",component:"p",children:"Delete"===e?(0,t.jsx)(Z.Z,{sx:{color:"#F53E40"}}):(0,t.jsx)(j.Z,{})}),(0,t.jsx)(v.Z,{sx:{color:"Delete"===e&&"#F53E40"},variant:"body_medium_tertiary",component:"p",children:e})]},e))})]})})]})})}var S=n(71666);let E=e=>{var i,n;let{config:v}=e,{endpoint:x,texts:f,getAllFn:g,postFn:h,key:y,deleteFn:j,validation:Z,putFn:b,transform:D=e=>e}=v,k=(0,p.Z)(e=>e.setProgress),T=(0,u.VY)(),E=(0,c.useQueryClient)(),[_,C]=d.useState(!1),[F,z]=(0,d.useState)(null),{isLoading:A,data:N,error:P}=(0,c.useQuery)("get"+y,()=>g(x,{page:1})),q=(0,c.useMutation)(e=>F?b(x,F,D(e),k):h(x,D(e),k),{onSuccess(){C(!1),E.invalidateQueries("get"+y),T.success(F?"Updated":"created")},onError(e){T.error("Failed")}}),I=(0,c.useMutation)(e=>j(x,e),{onSuccess(){E.invalidateQueries("get"+y),T("Deleted"),C(!1)},onError(e){T("Failed")}}),L=e=>{C(!0),z(e)},H=e=>{window.confirm("Do you want to delete this ? ")&&I.mutate({id:e})};return(0,d.useEffect)(e=>{_||z(null)},[_]),(0,t.jsxs)(o.Z,{spacing:2,m:2,divider:(0,t.jsx)(l.Z,{}),children:[(0,t.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(a.Z,{sx:{flex:1}}),(0,t.jsx)(s.Z,{variant:"contained",onClick:()=>C(!0),children:null==f?void 0:f.drawerTitle}),_&&(0,t.jsx)(S.Z,{open:_,callback:C,title:F?null==f?void 0:null===(i=f.drawerTitle)||void 0===i?void 0:i.replace("Add","Update"):null==f?void 0:f.drawerTitle,children:(0,t.jsx)(r.Z,{form:v.form,edit:F?{...N.data.find(e=>e.id==F)}:null,submitData:e=>q.mutate({...e}),validationSchema:Z,cancelDrawer:()=>C(!1)})})]}),(0,t.jsx)(o.Z,{sx:{rowGap:1},children:A?"Loading":null==N?void 0:null===(n=N.data)||void 0===n?void 0:n.map((e,i)=>(0,t.jsx)(w,{label:(0,m.I)(e,"**.".concat(f.key)),cb:{Edit:()=>L(e.id),Delete:()=>H(e.id)}},i))})]})};var _=E},19127:function(e,i,n){"use strict";var t=n(85893),o=n(26447),s=n(87357),l=n(44057),r=n(9576);n(76595);var a=n(19716),d=n(67294),u=n(34578),c=n(88767);n(80681);var p=n(38560);n(39272);var m=n(71666),v=n(45698);let x=e=>{var i;let{plan:n}=e;(0,p.Z)(e=>e.setProgress),(0,u.VY)(),(0,c.useQueryClient)();let[x,f]=d.useState(!1),[g,h]=(0,d.useState)(null);return(0,d.useEffect)(e=>{x||h(null)},[x]),(0,t.jsx)(o.Z,{spacing:2,m:2,divider:(0,t.jsx)(r.Z,{}),children:(0,t.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(a.Z,{sx:{flex:1}}),(0,t.jsx)(l.Z,{variant:"contained",onClick:()=>f(!0),children:null==n?void 0:n.sideBarTitle}),x&&(0,t.jsx)(m.Z,{open:x,callback:f,title:g?null==n?void 0:null===(i=n.sideBarTitle)||void 0===i?void 0:i.replace("Add","Update"):null==n?void 0:n.sideBarTitle,children:(0,t.jsx)(s.Z,{p:2,children:(0,t.jsx)(v.Z,{plan:n})})})]})})};i.Z=x},80581:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return p}});var t=n(85893),o=n(19127),s=n(88345),l=n(77339);n(44889);var r=n(54742),a=n(558);let d=[{element:l.Z,attr:{label:"Division Name",name:"division.divisionName"},validation:{validationType:"string",validations:[{type:"required",params:["Division Name is Required"]}]},xs:6},{element:l.Z,attr:{label:"Division Type",name:"division.divisionType"},xs:6},{element:l.Z,attr:{label:"Description",name:"division.description",isMultiline:!0},xs:12},{element:s.Z,attr:{label:"Division Head",name:"division.divisionHead",asyncData:{endpointApi:a.$8,endpoint:"settings/workweek",key:"data"},options:[{text:"Division Head 1",value:"dh1"},{text:"Division Head 2",value:"dh2"},{text:"Division Head 3",value:"dh3"}]},xs:12}],u={sideBarTitle:"Add Division",section:{fields:[{label:"Division Name",type:"Text",id:"divisionName",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Division Name"},validations:[{type:"required"}]},{label:"Division Type",type:"Text",id:"divisionType",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Division Type"},validations:[{type:"required"}]},{label:"Description",type:"Text",id:"description",gridSizes:{xs:12,sm:6,md:12,lg:12},isMultiline:!0,config:{placeholder:"Description"},validations:[{type:"required"}]},{label:"Division Head",type:"Select",gridSizes:{xs:12,sm:6,md:12,lg:12},id:"divisionHead",validations:[{type:"required"}],select:{type:"inLine",options:[{value:"30",label:"30 Days"},{value:"60",label:"60 Days"},{value:"90",label:"90 Days"}]}}]}},c={key:"division",form:[{header:"",fields:d}],endpoint:"settings/division",texts:{title:"Division",key:"divisionName",breadcrumbText:"Division",drawerTitle:"Add Division",mainTitle:"List of Divisions",mainDescription:"It is short description for division",sideTitle:"List of Divisions",sideDescription:"This is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:a.$8,postFn:a.fj,putFn:a.m7,deleteFn:a.WN};function p(){return(0,t.jsx)(r.Z,{texts:c.texts,children:(0,t.jsx)(o.Z,{plan:u})})}}},function(e){e.O(0,[3662,3552,4885,5675,7655,129,2737,343,8360,7417,7888,3513,534,448,5698,9774,2888,179],function(){return e(e.s=14545)}),_N_E=e.O()}]);