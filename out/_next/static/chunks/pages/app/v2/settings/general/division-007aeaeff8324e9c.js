(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8132],{42761:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var o=t(n(64938)),s=n(85893),a=(0,o.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");i.Z=a},14545:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/v2/settings/general/division",function(){return n(80581)}])},88345:function(e,i,n){"use strict";n.d(i,{Z:function(){return v}});var t=n(85893),o=n(67294),s=n(68245),a=n(15861),l=n(98456),r=n(90629),d=n(13970),u=n(75503),c=n(88767),p=n(87536);function v(e){var i;let{setValue:n,reset:v,label:m,options:x=[{text:"",value:""}],name:f,error:g,isRequired:h,asyncData:y,watch:Z,resetField:b,control:j,getValues:D,...k}=e,T=(0,p.qo)({control:j,name:null==y?void 0:y.lookup}),[S,E]=o.useState("");console.log("watchFields",f,null==y?void 0:y.lookup,T);let{isLoading:w,data:F,error:_,isSuccess:C}=(0,c.useQuery)({queryKey:["get"+(null==y?void 0:y.key),...(null==y?void 0:y.lookup)||[],T,S],queryFn:()=>y.endpointApi("function"==typeof y.endpoint?y.endpoint(T):y.endpoint,{name:S}),enabled:null==y||!y.lookup||(Array.isArray(T)?!T.some(e=>!e):!!T)}),[A,N]=o.useState(!1),[q,z]=o.useState([]),I=A&&0===q.length;return o.useEffect(()=>{let e=!0;if(I)return(async()=>{e&&z([...(null==F?void 0:F.data.map((null==y?void 0:y.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[I]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[m,h&&(0,t.jsx)(a.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,t.jsx)(s.Z,{popupIcon:w?(0,t.jsx)(l.Z,{color:"inherit",size:20}):(0,t.jsx)(u.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:A,onOpen(){N(!0)},onClose(){N(!1)},value:null===(i=D(f))||void 0===i?void 0:i.value,isOptionEqualToValue:(e,i)=>e.value===i.value,onChange:(e,i)=>n(f,i),getOptionLabel:e=>e.text,options:q,loading:w,renderOption:(e,i,n)=>(0,t.jsx)("li",{...e,children:(0,t.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:i.text})}),onInputChange(e,i){E(i)},renderInput:e=>(0,t.jsx)(r.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,t.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,t.jsx)(o.Fragment,{children:e.InputProps.endAdornment}),...k})})})]},JSON.stringify(T))}},19716:function(e,i,n){"use strict";n.d(i,{Z:function(){return l}});var t=n(85893),o=n(42761),s=n(13970),a=n(90629);function l(e){let{...i}=e;return(0,t.jsxs)(a.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,t.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,t.jsx)(s.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}n(67294)},32530:function(e,i,n){"use strict";var t=n(85893),o=n(26447),s=n(44057),a=n(9576),l=n(76595),r=n(19716),d=n(67294),u=n(34578),c=n(88767);n(80681);var p=n(38560),v=n(39272),m=n(42019),x=n(71666);let f=e=>{var i,n;let{config:f}=e,{endpoint:g,texts:h,getAllFn:y,postFn:Z,key:b,deleteFn:j,validation:D,putFn:k,transform:T=e=>e}=f,S=(0,p.Z)(e=>e.setProgress),E=(0,u.VY)(),w=(0,c.useQueryClient)(),[F,_]=d.useState(!1),[C,A]=(0,d.useState)(null),{isLoading:N,data:q,error:z}=(0,c.useQuery)("get"+b,()=>y(g,{page:1})),I=(0,c.useMutation)(e=>C?k(g,C,T(e),S):Z(g,T(e),S),{onSuccess(){_(!1),w.invalidateQueries("get"+b),E.success(C?"Updated":"created")},onError(e){E.error("Failed")}}),P=(0,c.useMutation)(e=>j(g,e),{onSuccess(){w.invalidateQueries("get"+b),E("Deleted"),_(!1)},onError(e){E("Failed")}}),L=e=>{_(!0),A(e)},M=e=>{window.confirm("Do you want to delete this ? ")&&P.mutate({id:e})};return(0,d.useEffect)(e=>{F||A(null)},[F]),(0,t.jsxs)(o.Z,{spacing:2,m:2,divider:(0,t.jsx)(a.Z,{}),children:[(0,t.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(r.Z,{sx:{flex:1}}),(0,t.jsx)(s.Z,{variant:"contained",onClick:()=>_(!0),children:null==h?void 0:h.drawerTitle}),F&&(0,t.jsx)(x.Z,{open:F,callback:_,title:C?null==h?void 0:null===(i=h.drawerTitle)||void 0===i?void 0:i.replace("Add","Update"):null==h?void 0:h.drawerTitle,children:(0,t.jsx)(l.Z,{form:f.form,edit:C?{...q.data.find(e=>e.id==C)}:null,submitData:e=>I.mutate({...e}),validationSchema:D,cancelDrawer:()=>_(!1)})})]}),(0,t.jsx)(o.Z,{sx:{rowGap:1},children:N?"Loading":null==q?void 0:null===(n=q.data)||void 0===n?void 0:n.map((e,i)=>(0,t.jsx)(m.Z,{label:(0,v.I)(e,"**.".concat(h.key)),cb:{Edit:()=>L(e.id),Delete:()=>M(e.id)}},i))})]})};i.Z=f},19127:function(e,i,n){"use strict";var t=n(85893),o=n(26447),s=n(87357),a=n(44057),l=n(9576);n(76595);var r=n(19716),d=n(67294),u=n(34578),c=n(88767);n(80681);var p=n(38560);n(39272);var v=n(71666),m=n(94546);let x=e=>{var i;let{plan:n,formData:x,clearEdit:f}=e,{endpoint:g,postFn:h,key:y,putFn:Z,transform:b=e=>e}=n,j=(0,p.Z)(e=>e.setProgress),D=(0,u.VY)(),k=(0,c.useQueryClient)(),[T,S]=d.useState(!1),E=(0,c.useMutation)(e=>x?Z(g,x.id,b(e),j):h(g,b(e),j),{onSuccess(){S(!1),k.invalidateQueries("get"+y),D.success(x.id?"Updated":"created")},onError(e){D.error("Failed")}});return(0,d.useEffect)(e=>{x&&(console.log("Opening"),S(!0))},[x]),(0,d.useEffect)(e=>{T||f()},[T]),(0,t.jsx)(o.Z,{spacing:2,m:2,divider:(0,t.jsx)(l.Z,{}),children:(0,t.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,t.jsx)(r.Z,{sx:{flex:1}}),(0,t.jsx)(a.Z,{variant:"contained",onClick:()=>S(!0),children:null==n?void 0:n.sideBarTitle}),T&&(0,t.jsx)(v.Z,{open:T,callback:S,title:(null==x?void 0:x.id)?null==n?void 0:null===(i=n.sideBarTitle)||void 0===i?void 0:i.replace("Add","Update"):null==n?void 0:n.sideBarTitle,children:(0,t.jsx)(s.Z,{p:2,children:(0,t.jsx)(m.Z,{plan:n,onSubmit:e=>E.mutate({...e}),formData:x})})})]})})};i.Z=x},80581:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return p}});var t=n(85893),o=n(19127),s=n(88345),a=n(77339);n(32530);var l=n(54742),r=n(558);let d=[{element:a.Z,attr:{label:"Division Name",name:"division.divisionName"},validation:{validationType:"string",validations:[{type:"required",params:["Division Name is Required"]}]},xs:6},{element:a.Z,attr:{label:"Division Type",name:"division.divisionType"},xs:6},{element:a.Z,attr:{label:"Description",name:"division.description",isMultiline:!0},xs:12},{element:s.Z,attr:{label:"Division Head",name:"division.divisionHead",asyncData:{endpointApi:r.$8,endpoint:"settings/workweek",key:"data"},options:[{text:"Division Head 1",value:"dh1"},{text:"Division Head 2",value:"dh2"},{text:"Division Head 3",value:"dh3"}]},xs:12}],u={sideBarTitle:"Add Division",section:{fields:[{label:"Division Name",type:"Text",id:"divisionName",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Division Name"},validations:[{type:"required"}]},{label:"Division Type",type:"Text",id:"divisionType",gridSizes:{xs:12,sm:6,md:6,lg:6},config:{placeholder:"Division Type"},validations:[{type:"required"}]},{label:"Description",type:"Text",id:"description",gridSizes:{xs:12,sm:6,md:12,lg:12},isMultiline:!0,config:{placeholder:"Description"},validations:[{type:"required"}]},{label:"Division Head",type:"Select",gridSizes:{xs:12,sm:6,md:12,lg:12},id:"divisionHead",validations:[{type:"required"}],select:{type:"inLine",options:[{value:"30",label:"30 Days"},{value:"60",label:"60 Days"},{value:"90",label:"90 Days"}]}}]}},c={key:"division",form:[{header:"",fields:d}],endpoint:"settings/division",texts:{title:"Division",key:"divisionName",breadcrumbText:"Division",drawerTitle:"Add Division",mainTitle:"List of Divisions",mainDescription:"It is short description for division",sideTitle:"List of Divisions",sideDescription:"This is long long long for division saldkf skflas asfkjdsadklfsadf salkdfklajsfkjlsad lorem description Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui quidem neque exercitationem aperiam laboriosam at, tempore ipsam natus alias repellat dolorum. Totam commodi eius dolorem laudantium dolores explicabo ex id."},getAllFn:r.$8,postFn:r.fj,putFn:r.m7,deleteFn:r.WN};function p(){return(0,t.jsx)(l.Z,{texts:c.texts,children:(0,t.jsx)(o.Z,{plan:u})})}}},function(e){e.O(0,[3662,3552,4885,5675,7655,129,1489,1567,8360,7417,9912,5003,7757,3513,9482,4546,9774,2888,179],function(){return e(e.s=14545)}),_N_E=e.O()}]);