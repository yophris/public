"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7717],{24707:function(e,n,t){t.d(n,{_:function(){return a}});var r=t(87462),o=t(1588),i=t(34867),l=t(55827);function a(e){return(0,i.Z)("MuiFilledInput",e)}let u=(0,r.Z)({},l.Z,(0,o.Z)("MuiFilledInput",["root","underline","input"]));n.Z=u},7021:function(e,n,t){t.d(n,{l:function(){return a}});var r=t(87462),o=t(1588),i=t(34867),l=t(55827);function a(e){return(0,i.Z)("MuiInput",e)}let u=(0,r.Z)({},l.Z,(0,o.Z)("MuiInput",["root","underline","input"]));n.Z=u},54656:function(e,n,t){t.d(n,{e:function(){return a}});var r=t(87462),o=t(1588),i=t(34867),l=t(55827);function a(e){return(0,i.Z)("MuiOutlinedInput",e)}let u=(0,r.Z)({},l.Z,(0,o.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));n.Z=u},60224:function(e,n,t){t(67294);var r=t(88169),o=t(85893);n.Z=(0,r.Z)((0,o.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},88345:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(85893),o=t(67294),i=t(68245),l=t(15861),a=t(98456),u=t(90629),d=t(13970),s=t(75503),c=t(88767),p=t(87536);function m(e){var n;let{setValue:t,reset:m,label:f,options:x=[{text:"",value:""}],name:g,error:h,isRequired:y,asyncData:v,watch:Z,resetField:F,control:b,getValues:k,...j}=e,E=(0,p.qo)({control:b,name:null==v?void 0:v.lookup}),[w,S]=o.useState("");console.log("watchFields",g,null==v?void 0:v.lookup,E);let{isLoading:D,data:C,error:_,isSuccess:W}=(0,c.useQuery)({queryKey:["get"+(null==v?void 0:v.key),...(null==v?void 0:v.lookup)||[],E,w],queryFn:()=>v.endpointApi("function"==typeof v.endpoint?v.endpoint(E):v.endpoint,{name:w}),enabled:null==v||!v.lookup||(Array.isArray(E)?!E.some(e=>!e):!!E)}),[I,O]=o.useState(!1),[M,R]=o.useState([]),T=I&&0===M.length;return o.useEffect(()=>{let e=!0;if(T)return(async()=>{e&&R([...(null==C?void 0:C.data.map((null==v?void 0:v.optionTransformation)||(e=>({text:e.name,value:e.id||e.stateCode||e.code||e.isoCode}))))||[]])})(),()=>{e=!1}},[T]),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[f,y&&(0,r.jsx)(l.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,r.jsx)(i.Z,{popupIcon:D?(0,r.jsx)(a.Z,{color:"inherit",size:20}):(0,r.jsx)(s.Z,{}),sx:{".MuiAutocomplete-option":{color:"#333",fontSize:"1.4rem"},".MuiAutocomplete-endAdornment":{svg:{fontSize:"2rem",fontWeight:500,color:"text.secondary"}}},open:I,onOpen(){O(!0)},onClose(){O(!1)},value:null===(n=k(g))||void 0===n?void 0:n.value,isOptionEqualToValue:(e,n)=>e.value===n.value,onChange:(e,n)=>t(g,n),getOptionLabel:e=>e.text,options:M,loading:D,renderOption:(e,n,t)=>(0,r.jsx)("li",{...e,children:(0,r.jsx)(l.Z,{variant:"body_medium_secondary",component:"p",children:n.text})}),onInputChange(e,n){S(n)},renderInput:e=>(0,r.jsx)(u.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,p:1},ref:e.InputProps.ref,children:(0,r.jsx)(d.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",fontWeight:500,color:"text.secondary"},...e,endAdornment:(0,r.jsx)(o.Fragment,{children:e.InputProps.endAdornment}),...j})})})]},JSON.stringify(E))}},81720:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(85893),o=t(67294),i=t(35294),l=t(18972),a=t(15861),u=t(96301);function d(e){let{anchorEl:n,setAnchorEl:t,menuToggle:d,setSelectedType:s,isLast:c}=e,[p,m]=o.useState(""),f=(e,n)=>{m(n.key),s(n),t(null)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{anchorEl:null==n?void 0:n.current,id:"account-menu",open:d,onClose:()=>t(null),placement:"bottom-start",PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:c?"30%":"50%",width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)"}}},transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"},children:u._g.map((e,n)=>(0,r.jsx)(l.Z,{selected:e.key===p,onClick:n=>f(n,e),children:(0,r.jsx)(a.Z,{variant:"body_medium_secondary",component:"p",children:e.value})},e.key))})})}},56450:function(e,n,t){t.d(n,{Z:function(){return I}});var r=t(85893),o=t(86886),i=t(15861),l=t(26447),a=t(67294),u=t(87357),d=t(69368),s=t(50480),c=t(63366),p=t(87462),m=t(86010),f=t(94780),x=t(90948),g=t(71657),h=t(1588),y=t(34867);function v(e){return(0,y.Z)("MuiFormGroup",e)}(0,h.Z)("MuiFormGroup",["root","row","error"]);var Z=t(74423),F=t(15704);let b=["className","row"],k=e=>{let{classes:n,row:t,error:r}=e;return(0,f.Z)({root:["root",t&&"row",r&&"error"]},v,n)},j=(0,x.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver(e,n){let{ownerState:t}=e;return[n.root,t.row&&n.row]}})(({ownerState:e})=>(0,p.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),E=a.forwardRef(function(e,n){let t=(0,g.Z)({props:e,name:"MuiFormGroup"}),{className:o,row:i=!1}=t,l=(0,c.Z)(t,b),a=(0,Z.Z)(),u=(0,F.Z)({props:t,muiFormControl:a,states:["error"]}),d=(0,p.Z)({},t,{row:i,error:u.error}),s=k(d);return(0,r.jsx)(j,(0,p.Z)({className:(0,m.Z)(s.root,o),ownerState:d,ref:n},l))});var w=t(1574),S=t(96301),D=t(25675),C=t.n(D),_=t(81720);function W(e){let{setValue:n,name:t}=e,o=a.useRef(null),c=S.z1[t.split(".")[1]],[p,m]=a.useState(!1),[f,x]=a.useState(!1),[g,h]=a.useState(""),[y,v]=a.useState(o),[Z,F]=a.useState("");a.useEffect(e=>{Z&&(n(t,Z.key),h(Z.bgColor),x(!1))},[Z]);let b=e=>{if(m(e.target.checked),x(e.target.checked),e.target.checked)v(o);else{let r=S._g.filter(e=>"WEEKOFF"===e.key);F(r),n(t,r.key),h(r.bgColor),v(null)}};return(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(E,{children:(0,r.jsx)(l.Z,{alignItems:"center",sx:{width:69,height:78,background:g,border:"1px solid #EFEFEF",borderRadius:"8px"},ref:o,children:(0,r.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",margin:0},control:(0,r.jsx)(d.Z,{disableRipple:!0,checked:p,onChange:b,icon:(0,r.jsx)(w.Z,{size:23,colorVal:"#EFEFEF"}),checkedIcon:(0,r.jsx)(C(),{src:"/images/circleTickBgWhite.svg",width:24,height:24,alt:"checked"})}),label:(0,r.jsx)(i.Z,{variant:"body_medium",sx:{color:"WEEKOFF"===Z.key?"text.secondary":"text.light"},component:"p",children:c})})})}),f&&y&&(0,r.jsx)(_.Z,{anchorEl:y,setAnchorEl:v,menuToggle:f,setSelectedType:F,isLast:"SAT"===c})]})}function I(e){let{setValue:n,name:t,...a}=e;return(0,r.jsxs)(o.ZP,{item:!0,sx:{paddingLeft:0,margin:0,width:"100%"},children:[(0,r.jsxs)(i.Z,{variant:"body_medium_muted",component:"p",mb:1,children:[a.label,a.isRequired&&(0,r.jsx)(i.Z,{variant:"body_bold",sx:{marginLeft:"4px",color:"#F53E40"},children:"*"})]}),(0,r.jsx)(l.Z,{direction:"row",spacing:1,children:a.attrs.map(e=>(0,r.jsx)(W,{name:e.name,setValue:n},e.name))})]})}},19716:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(85893),o=t(42761),i=t(13970),l=t(90629);function a(e){let{...n}=e;return(0,r.jsxs)(l.Z,{elevation:0,sx:{alignItems:"center",backgroundColor:"background.main",border:"1px solid #EFEFEF",borderRadius:2,display:"flex",marginTop:0,flex:"auto"},children:[(0,r.jsx)(o.Z,{sx:{fontSize:"1.4rem",margin:"15px 12px 15px 20px",color:"text.muted"}}),(0,r.jsx)(i.ZP,{sx:{ml:1,flex:1,fontSize:"1.4rem",color:"text.secondary"},placeholder:"Search Department",inputProps:{"aria-label":"search department"}})]})}t(67294)},32530:function(e,n,t){var r=t(85893),o=t(26447),i=t(44057),l=t(9576),a=t(76595),u=t(19716),d=t(67294),s=t(34578),c=t(88767);t(80681);var p=t(38560),m=t(39272),f=t(42019),x=t(71666);let g=e=>{var n,t;let{config:g}=e,{endpoint:h,texts:y,getAllFn:v,postFn:Z,key:F,deleteFn:b,validation:k,putFn:j,transform:E=e=>e}=g,w=(0,p.Z)(e=>e.setProgress),S=(0,s.VY)(),D=(0,c.useQueryClient)(),[C,_]=d.useState(!1),[W,I]=(0,d.useState)(null),{isLoading:O,data:M,error:R}=(0,c.useQuery)("get"+F,()=>v(h,{page:1})),T=(0,c.useMutation)(e=>W?j(h,W,E(e),w):Z(h,E(e),w),{onSuccess(){_(!1),D.invalidateQueries("get"+F),S.success(W?"Updated":"created")},onError(e){S.error("Failed")}}),A=(0,c.useMutation)(e=>b(h,e),{onSuccess(){D.invalidateQueries("get"+F),S("Deleted"),_(!1)},onError(e){S("Failed")}}),z=e=>{_(!0),I(e)},P=e=>{window.confirm("Do you want to delete this ? ")&&A.mutate({id:e})};return(0,d.useEffect)(e=>{C||I(null)},[C]),(0,r.jsxs)(o.Z,{spacing:2,m:2,divider:(0,r.jsx)(l.Z,{}),children:[(0,r.jsxs)(o.Z,{direction:"row",spacing:3,children:[(0,r.jsx)(u.Z,{sx:{flex:1}}),(0,r.jsx)(i.Z,{variant:"contained",onClick:()=>_(!0),children:null==y?void 0:y.drawerTitle}),C&&(0,r.jsx)(x.Z,{open:C,callback:_,title:W?null==y?void 0:null===(n=y.drawerTitle)||void 0===n?void 0:n.replace("Add","Update"):null==y?void 0:y.drawerTitle,children:(0,r.jsx)(a.Z,{form:g.form,edit:W?{...M.data.find(e=>e.id==W)}:null,submitData:e=>T.mutate({...e}),validationSchema:k,cancelDrawer:()=>_(!1)})})]}),(0,r.jsx)(o.Z,{sx:{rowGap:1},children:O?"Loading":null==M?void 0:null===(t=M.data)||void 0===t?void 0:t.map((e,n)=>(0,r.jsx)(f.Z,{label:(0,m.I)(e,"**.".concat(y.key)),cb:{Edit:()=>z(e.id),Delete:()=>P(e.id)}},n))})]})};n.Z=g},96301:function(e,n,t){t.d(n,{ZF:function(){return i},_g:function(){return r},z1:function(){return o}});let r=[{key:"D_FWD",value:"Full Working Day",bgColor:"#4586FF"},{key:"D_FHWD",value:"Only First Half Working Day",bgColor:"linear-gradient(to right, #4586FF 50%, #8CB4FF 50%)"},{key:"D_SHWD",value:"Only Second Half Working Day",bgColor:"linear-gradient(to left, #4586FF 50%, #8CB4FF 50%)"},{key:"R_FWD",value:"Remote: Full Working Day",bgColor:"#a0d433"},{key:"R_FHWD",value:"Remote: Only First Half Working Day",bgColor:"linear-gradient(to right, #a0d433 50%, #a0d4336e 50%)"},{key:"R_SHWD",value:"Remote: Only Second Half Working Day",bgColor:"linear-gradient(to left, #a0d433 50%, #a0d4336e 50%)"},{key:"WEEKOFF",value:"Weekoff",bgColor:"#EFEFEF"}],o={sunday:"SUN",monday:"MON",tuesday:"TUE",wednesday:"WED",thursday:"THU",friday:"FRI",saturday:"SAT"},i={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"}}}]);